{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//TODO : STRUCTURING THE PROFILE, AND SPLICING IT INTO TINY COMPONENTS\nimport{onAuthStateChanged}from\"firebase/auth\";import\"firebase/storage\";import\"firebase/firestore\";import{storage}from\"../config/firebase\";import{ref,uploadBytes,getDownloadURL}from\"firebase/storage\";import React,{useEffect,useState,useRef,useReducer}from\"react\";import{auth,db}from\"../config/firebase\";import{Link,useNavigate,useParams}from\"react-router-dom\";import{collection,doc,updateDoc}from\"firebase/firestore\";import Modal from\"react-modal\";import{useContext}from\"react\";import{AuthContext}from\"../context/AuthContext\";import Toolitem from\"../components/Tools/Toolitem\";import{CategoriesData}from\"../dataJson/CategoriesData\";import\"../assets/styles/profile/profile.css\";import\"../assets/styles/Modal/modal.css\";import axios from\"axios\";import{BASE_URL}from\"../config/mongo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ModalcustomStyles={content:{top:\"50%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-20%\",transform:\"translate(-50%, -50%)\",backgroundColor:\"rgba(0,0,0,0.8)\",color:\"#fff\",borderRadius:\"34px\",display:\"flex\",flexDirection:\"column\",justifyContent:\"space-between\",flexWrap:\"wrap\",maxHeight:\"70vh\",// Set maximum height to 90% of viewport height\noverflow:\"auto\"// Enable scrolling if content overflows the modal\n},overlay:{backgroundColor:\"rgba(0,0,0,0.8)\"}};var Profile=function Profile(){var _currentUserData$inte3;var _useParams=useParams(),name=_useParams.name;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),copied=_useState2[0],setCopied=_useState2[1];var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser,currentUserData=_useContext.currentUserData,updateUserData=_useContext.updateUserData;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),authUser=_useState4[0],setAuthUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),addBio=_useState6[0],setAddBio=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),addInterests=_useState8[0],setAddInterests=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),updateBio=_useState10[0],setUpdateBio=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),updateInterests=_useState12[0],setUpdateInterests=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),LikedTools=_useState14[0],setLikedTools=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),bio=_useState16[0],setBio=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),categories=_useState18[0],setCategories=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),checkedInterests=_useState20[0],setcheckedInterests=_useState20[1];var _useReducer=useReducer(function(x){return x+1;},0),_useReducer2=_slicedToArray(_useReducer,2),reducerValue=_useReducer2[0],forceRender=_useReducer2[1];//To Check if Edit profile button was clicked\nvar _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),editProfileClicked=_useState22[0],setEditProfileClicked=_useState22[1];var navigate=useNavigate();//Handling Interests with Checkbox\nvar handleInterestCheck=function handleInterestCheck(event){var _event$target=event.target,value=_event$target.value,checked=_event$target.checked;updateUserData();var interests=checkedInterests;if(checked){updateUserData();interests=checkedInterests;interests.push(value);setcheckedInterests(interests);// console.log(checkedInterests);\n}else{interests=interests.filter(function(interest){return interest!==value;});setcheckedInterests(interests);}};//______________________________Modal Configs____________________________________________\n//Modal Styles\nModal.setAppElement(\"#root\");var subtitle;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalIsOpen2=_React$useState2[0],setIsOpen2=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modalIsOpen=_React$useState4[0],setIsOpen=_React$useState4[1];function openModal(){setIsOpen(true);}function closeModal(){setIsOpen(false);}function openModal2(){setIsOpen2(true);}function closeModal2(){setIsOpen2(false);}//************************END Modal Configs********************************\nvar fetchUserCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userCategories,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userCategories=[];CategoriesData===null||CategoriesData===void 0?void 0:CategoriesData.map(function(group){if(checkedInterests!==null&&checkedInterests!==void 0&&checkedInterests.includes(group.groupName)){var _group$categories;group===null||group===void 0?void 0:(_group$categories=group.categories)===null||_group$categories===void 0?void 0:_group$categories.map(function(category){userCategories===null||userCategories===void 0?void 0:userCategories.push(category);});}});_context.prev=2;_context.next=5;return axios.post(\"\".concat(BASE_URL,\"/addCategories/\").concat(currentUserData.uid,\"/\").concat(userCategories));case 5:res=_context.sent;updateUserData();closeModal();_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);clearUserCategories();closeModal();case 14:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function fetchUserCategories(){return _ref.apply(this,arguments);};}();var clearUserCategories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"\".concat(BASE_URL,\"/clearInterests/\").concat(currentUserData.uid));case 2:res=_context2.sent;updateUserData();case 4:case\"end\":return _context2.stop();}},_callee2);}));return function clearUserCategories(){return _ref2.apply(this,arguments);};}();//______________________________Inserting Changes____________________________________________\nvar handleInterestsChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:fetchUserCategories();case 1:case\"end\":return _context3.stop();}},_callee3);}));return function handleInterestsChange(){return _ref3.apply(this,arguments);};}();var copyToClipboard=function copyToClipboard(){var link=\"https://techbible.ai/#/UserProfile/\".concat(currentUserData===null||currentUserData===void 0?void 0:currentUserData.uid);navigator.clipboard.writeText(link).then(function(){setCopied(true);}).catch(function(error){console.error(\"Failed to copy link: \",error);});};//Edit interests\nvar editInterests=function editInterests(){var userCategories=currentUserData.interests;var userInterests=[];CategoriesData.map(function(group){if(userCategories!==null&&userCategories!==void 0&&userCategories.some(function(element){return group.categories.includes(element);})){userInterests.push(group.groupName);}});setcheckedInterests(userInterests);console.log(\"User Interests \"+checkedInterests);setEditProfileClicked(false);openModal();};//Edit profile\nvar openEditProfileModal=function openEditProfileModal(){setEditProfileClicked(true);setEditedUsername(currentUserData.username);openModal();};/**************** Editing username and Profile PIC *****************/var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),profilePicture=_useState24[0],setProfilePicture=_useState24[1];var _useState25=useState(currentUserData===null||currentUserData===void 0?void 0:currentUserData.username),_useState26=_slicedToArray(_useState25,2),editedUsername=_useState26[0],setEditedUsername=_useState26[1];var uploadImageUsername=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(username,url){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(\"\".concat(BASE_URL,\"/updateUsernameAndPhoto/\").concat(currentUser===null||currentUser===void 0?void 0:currentUser.uid,\"/\").concat(username,\"/\").concat(url));case 2:res=_context4.sent;case 3:case\"end\":return _context4.stop();}},_callee4);}));return function uploadImageUsername(_x,_x2){return _ref4.apply(this,arguments);};}();var uploadImage=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var updateUserName,imageRef;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(!(profilePicture===null)){_context5.next=12;break;}_context5.prev=1;_context5.next=4;return axios.post(\"\".concat(BASE_URL,\"/updateUsername/\").concat(currentUserData===null||currentUserData===void 0?void 0:currentUserData.uid,\"/\").concat(editedUsername));case 4:updateUserName=_context5.sent;updateUserData();_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](1);console.log(\"Update username error : \"+_context5.t0);case 11:closeModal();// Photo is not selected for upload, update only the username\n// updateDoc(userDocRef, {\n//   username: editedUsername,\n// })\n//   .then(() => {\n//     console.log(\"Username updated\");\n//     closeModal();\n//   })\n//   .catch((error) => {\n//     console.log(\"Error updating username:\", error);\n//     closeModal();\n//   });\n// return;\ncase 12:imageRef=ref(storage,\"profile-pictures/\".concat(profilePicture.name+(currentUserData===null||currentUserData===void 0?void 0:currentUserData.uid)));uploadBytes(imageRef,profilePicture).then(function(snapshot){console.log(\"Image uploaded\");getDownloadURL(snapshot.ref).then(function(url){try{console.log(\"UPDATE name and photo : \"+(currentUserData===null||currentUserData===void 0?void 0:currentUserData.uid)+\" \"+editedUsername+\" \"+url);uploadImageUsername(editedUsername,url);console.log(\"IMAGE URL try  : \"+url);updateUserData();}catch(e){console.log(\"Update username and photo error : \"+e);console.log(\"IMAGE URL catch  : \"+url);}closeModal();// Photo has changed, update both username and photo\n// updateDoc(userDocRef, {\n//   username: editedUsername,\n//   photo: url,\n// })\n//   .then(() => {\n//     console.log(\"Username and photo updated\");\n//     closeModal();\n//   })\n//   .catch((error) => {\n//     console.log(\"Error updating username and photo:\", error);\n//     closeModal();\n//   });\n}).catch(function(error){console.log(\"Error getting download URL:\",error);closeModal();});}).catch(function(error){console.log(\"Error uploading image:\",error);closeModal();});updateUserData();case 15:case\"end\":return _context5.stop();}},_callee5,null,[[1,8]]);}));return function uploadImage(){return _ref5.apply(this,arguments);};}();//***********************END Inserting Changes********************************\n//this is mongo\nvar LoadLikedTools=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var response,LikedOnes;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.get(\"\".concat(BASE_URL,\"/mongo-tools\"));case 3:response=_context6.sent;LikedOnes=response.data.filter(function(tool){return tool.LikedBy.includes(currentUser===null||currentUser===void 0?void 0:currentUser.uid);});setLikedTools(LikedOnes);forceRender();_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);console.error(_context6.t0);case 12:case\"end\":return _context6.stop();}},_callee6,null,[[0,9]]);}));return function LoadLikedTools(){return _ref6.apply(this,arguments);};}();//Verifying Sign in and loading users infos on load\nuseEffect(function(){LoadLikedTools();var listen=onAuthStateChanged(auth,function(user){if(user){setAuthUser(user);currentUserData.interests.length>0?setAddInterests(false):setAddInterests(false);}else{navigate(\"/signin\");setAuthUser(null);}},[]);return listen();},[LikedTools]);// useEffect(() => {\n//   //getting the available categories\n//   const dbRef = collection(db, \"Categories\");\n//   onSnapshot(dbRef, (docsSnap) => {\n//     const CategoriesArray = [];\n//     docsSnap.forEach((doc) => {\n//       CategoriesArray.push(doc.data());\n//     });\n//     setCategories(CategoriesArray);\n//   });\n// }, [categories]);\n// New useEffect logic\nuseEffect(function(){var CategoriesArray=[];CategoriesData.map(function(group){group.categories.map(function(category){return CategoriesArray.push(category);});});setCategories(CategoriesArray);},[]);// }, [categories]);\n//To add/Update a Bio\nvar UpdatingBio=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var res;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;if(!(bio.length>50)){_context7.next=5;break;}alert(\"Your bio is more than 50 characters\");_context7.next=11;break;case 5:_context7.next=7;return axios.post(\"\".concat(BASE_URL,\"/addBio/\").concat(currentUserData.uid,\"/\").concat(bio));case 7:res=_context7.sent;updateUserData();setAddBio(false);setUpdateBio(false);case 11:_context7.next=16;break;case 13:_context7.prev=13;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);case 16:case\"end\":return _context7.stop();}},_callee7,null,[[0,13]]);}));return function UpdatingBio(){return _ref7.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-column align-items-center pt-[6rem]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-desktop-10 mt-mobile-8 mt-tablet-8 mt-widescreen-30 layoutContainer\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"layoutMain pl-desktop-5 pl-mobile-4 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative xl:w-[711px] lg:w-[711px] max-w-[711px] m-0 pl-0 w-widescreen-5 mb-[4rem] profile-info-container bg-[#0D0C12] rounded-xl p-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:currentUserData.photo,className:\"w-[80px] h-[80px] sm:w-[80px] sm:h-[80px] md:w-[80px] md:h-[80px] border-2 border-gray-300 rounded-full\",alt:\"\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7 mr-[100px] \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"fontWeight-500\",children:currentUserData.username})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[(name===null||name===void 0?void 0:name.length)===0?/*#__PURE__*/_jsx(\"button\",{onClick:openEditProfileModal,className:\"edit-profile-btn mb-3 transition duration-250 \",type:\"button\",children:\"Edit\"}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-[44px] right-[10px] text-[12px]  bg-[#ef4823] px-[15px] py-[1.5px] rounded-[4px] transition duration-300 hover:bg-[#ca391c] active:bg-[#b32712]\",onClick:function onClick(){return openModal2();},children:\"Share\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openEditProfileModal,className:\"text-[12px]  bg-[#ef4823] px-[15px] py-[1.5px] my-3 rounded-[4px] transition duration-300 hover:bg-[#ca391c] active:bg-[#b32712]\",type:\"button\",children:\"Edit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bio-interests-texts\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col mb-4\",children:/*#__PURE__*/_jsx(\"p\",{children:currentUserData.bio})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:CategoriesData===null||CategoriesData===void 0?void 0:CategoriesData.map(function(group){var _currentUserData$inte;if(currentUserData!==null&&currentUserData!==void 0&&(_currentUserData$inte=currentUserData.interests)!==null&&_currentUserData$inte!==void 0&&_currentUserData$inte.some(function(interest){return group.categories.includes(interest);})){return/*#__PURE__*/_jsxs(\"p\",{className:\"text-[12] d-inline-block\",children:[group.groupName,\"\\xA0\\xA0\"]});}})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col profile-info-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mr-4 transition duration-250 w-[100px] my-2 \",children:/*#__PURE__*/_jsx(Link,{to:\"/folders\",children:\"My Folders\"})})})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:\"3rem\",borderLeft:\"1px solid white\",maxWidth:\"710px\"},children:[currentUserData.bio?/*#__PURE__*/_jsx(\"div\",{children:updateBio?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[2rem]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 md:mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg leading-tight mb-3\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"input\",{className:\"h-7 p-2 w-[30px] text-sm leading-tight text-black border-gray-400 border rounded-lg\",placeholder:currentUserData.bio,onChange:function onChange(e){return setBio(e.target.value);},type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setUpdateBio(false);},className:\"cancel-btn fw-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return UpdatingBio();},className:\"update-btn\",children:\"Update\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[2rem]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 md:mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg leading-tight mb-3\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[10rem]\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:currentUserData.bio})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setUpdateBio(true);},className:\"edit-btn\",children:\"Edit\"})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[2rem]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 md:mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg leading-tight mb-3\",children:\"Bio\"}),addBio?/*#__PURE__*/_jsx(\"input\",{className:\"h-7 p-2 w-[30px] text-sm leading-tight text-black border-gray-400 border rounded-lg\",placeholder:\"You can add your bio here\",onChange:function onChange(e){return setBio(e.target.value);},type:\"text\"}):/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:\"Tell us a little bit about you\"})]}),addBio?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setAddBio(false);},className:\"cancel-btn\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return UpdatingBio();},className:\"submit-btn\",children:\"Submit\"})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setAddBio(true);},className:\"add-btn\",children:\"+Add\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[4]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 md:mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg leading-tight mb-3\",children:\"Interests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:CategoriesData===null||CategoriesData===void 0?void 0:CategoriesData.map(function(group){var _currentUserData$inte2;if(currentUserData!==null&&currentUserData!==void 0&&(_currentUserData$inte2=currentUserData.interests)!==null&&_currentUserData$inte2!==void 0&&_currentUserData$inte2.some(function(interest){return group.categories.includes(interest);})){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#535353] rounded-md py-[2px] px-[4px] mr-2 mb-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm leading-tight d-inline mr-1 mb-1\",children:[group.groupName,\"\\xA0\\xA0\"]})});}})})]}),(currentUserData===null||currentUserData===void 0?void 0:(_currentUserData$inte3=currentUserData.interests)===null||_currentUserData$inte3===void 0?void 0:_currentUserData$inte3.length)===0?/*#__PURE__*/_jsx(\"button\",{onClick:editInterests,className:\"edit-btn\",children:\"+Add\"}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:editInterests,className:\"edit-btn\",children:\"Edit\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mylist-container\",style:{marginTop:\"4rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold mb-[2rem]\",children:\"My List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"list-tools\",style:{padding:\"0 0 0 3rem\",borderLeft:\"1px solid white\"},children:LikedTools===null||LikedTools===void 0?void 0:LikedTools.map(function(tool){return/*#__PURE__*/_jsx(Toolitem,{toolData:tool,forceRender:forceRender,homeTool:false});})})]})]})}),!editProfileClicked?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,style:ModalcustomStyles,contentLabel:\"Example Modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-16\",children:[/*#__PURE__*/_jsx(\"h2\",{ref:function ref(_subtitle){return subtitle=_subtitle;},className:\"mb-4 text-white xl:text-[30px] lg:text-[28px] md:text-[26px] sm:text-[24px] light fontWeight-500\",children:\"Please choose your interests:\"}),/*#__PURE__*/_jsx(\"span\",{id:\"close-button\",className:\"text-gray-600 hover:text-black hovet:text-white cursor-pointer px-3 transition duration-250\",onClick:closeModal,children:\"X\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-start gap-4 h-[40vh] \",style:{maxHeight:\"200px\",overflowY:\"auto\"},children:CategoriesData===null||CategoriesData===void 0?void 0:CategoriesData.map(function(group){return/*#__PURE__*/_jsx(\"label\",{className:\"flex items-center bg-gray-300 max-w-lg rounded-md py-1 px-3 transition duration-250 hover:bg-white cursor-pointer mr-3\",htmlFor:group.groupName,style:checkedInterests.includes(group.groupName)?{backgroundColor:\"#EF4823\",color:\"white\"}:{},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center w-full\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:group.groupName,value:group.groupName,onChange:function onChange(e){return handleInterestCheck(e);},checked:checkedInterests.includes(group.groupName),className:\"form-checkbox  w-4 text-primary\",style:{display:\"none\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-black xl:text-[15px] lg:text-[15px] md:text-[12px] sm:text-[12px] text-[12px]  font-medium w-full\",style:checkedInterests.includes(group.groupName)?{color:\"white\"}:{},children:group.groupName})]})},group.groupName);})}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block mt-4 px-4 py-1 bg-white text-black transition duration-250 hover:bg-black hover:fontWeight-bold rounded-lg cursor-pointer\",onClick:handleInterestsChange,children:\"Save\"})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,style:ModalcustomStyles,contentLabel:\"Example Modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label text-[14px] text-[#FF6700] poppins\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\" w-[235px] form-input text-black bg-white rounded-md py-1 px-2 ml-2 light text-[12px]  \",value:editedUsername,onChange:function onChange(e){setEditedUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label text-[14px] text-[#FF6700] poppins mt-2\",children:\"Select a photo:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input text-black bg-white rounded-md py-1 px-2 ml-2 light text-[12px] max-w-[400px] \",type:\"file\",accept:\"image/*\",onChange:function onChange(event){return setProfilePicture(event.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-[#EF4823] w-[10vh] py-[2px] rounded-md text-[14px] poppins transition duration-250 hover:bg-[#FF6700] mt-2\",onClick:uploadImage,children:\"Upload\"})]})})}),/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen2,onRequestClose:closeModal,style:ModalcustomStyles,contentLabel:\"Example Modal-LINK\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal2,className:\"absolute top-2 right-2 text-gray-400 hover:text-gray-200 focus:outline-none\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 font-bold\",children:\"Profile link:\"}),/*#__PURE__*/_jsx(\"code\",{children:\"UserProfile/\".concat(currentUserData===null||currentUserData===void 0?void 0:currentUserData.uid)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:copyToClipboard,className:\"mt-4 px-4 py-2 rounded \".concat(copied?\"bg-green-500 text-white\":\"bg-blue-500 text-white\"),children:copied?\"Copied!\":\"Copy Link\"})]})})]});};export default Profile;","map":{"version":3,"names":["onAuthStateChanged","storage","ref","uploadBytes","getDownloadURL","React","useEffect","useState","useRef","useReducer","auth","db","Link","useNavigate","useParams","collection","doc","updateDoc","Modal","useContext","AuthContext","Toolitem","CategoriesData","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","ModalcustomStyles","content","top","left","right","bottom","marginRight","transform","backgroundColor","color","borderRadius","display","flexDirection","justifyContent","flexWrap","maxHeight","overflow","overlay","Profile","_currentUserData$inte3","_useParams","name","_useState","_useState2","_slicedToArray","copied","setCopied","_useContext","currentUser","currentUserData","updateUserData","_useState3","_useState4","authUser","setAuthUser","_useState5","_useState6","addBio","setAddBio","_useState7","_useState8","addInterests","setAddInterests","_useState9","_useState10","updateBio","setUpdateBio","_useState11","_useState12","updateInterests","setUpdateInterests","_useState13","_useState14","LikedTools","setLikedTools","_useState15","_useState16","bio","setBio","_useState17","_useState18","categories","setCategories","_useState19","_useState20","checkedInterests","setcheckedInterests","_useReducer","x","_useReducer2","reducerValue","forceRender","_useState21","_useState22","editProfileClicked","setEditProfileClicked","navigate","handleInterestCheck","event","_event$target","target","value","checked","interests","push","filter","interest","setAppElement","subtitle","_React$useState","_React$useState2","modalIsOpen2","setIsOpen2","_React$useState3","_React$useState4","modalIsOpen","setIsOpen","openModal","closeModal","openModal2","closeModal2","fetchUserCategories","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userCategories","res","wrap","_callee$","_context","prev","next","map","group","includes","groupName","_group$categories","category","post","concat","uid","sent","t0","clearUserCategories","stop","apply","arguments","_ref2","_callee2","_callee2$","_context2","handleInterestsChange","_ref3","_callee3","_callee3$","_context3","copyToClipboard","link","navigator","clipboard","writeText","then","catch","error","console","editInterests","userInterests","some","element","log","openEditProfileModal","setEditedUsername","username","_useState23","_useState24","profilePicture","setProfilePicture","_useState25","_useState26","editedUsername","uploadImageUsername","_ref4","_callee4","url","_callee4$","_context4","_x","_x2","uploadImage","_ref5","_callee5","updateUserName","imageRef","_callee5$","_context5","snapshot","e","LoadLikedTools","_ref6","_callee6","response","LikedOnes","_callee6$","_context6","get","data","tool","LikedBy","listen","user","length","CategoriesArray","UpdatingBio","_ref7","_callee7","_callee7$","_context7","alert","className","children","src","photo","alt","onClick","type","_currentUserData$inte","to","style","paddingLeft","borderLeft","maxWidth","placeholder","onChange","_currentUserData$inte2","marginTop","padding","toolData","homeTool","isOpen","onRequestClose","contentLabel","_subtitle","id","overflowY","htmlFor","accept","files","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/views/Profile.jsx"],"sourcesContent":["//TODO : STRUCTURING THE PROFILE, AND SPLICING IT INTO TINY COMPONENTS\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/firestore\";\r\nimport { storage } from \"../config/firebase\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport React, { useEffect, useState, useRef, useReducer } from \"react\";\r\nimport { auth, db } from \"../config/firebase\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\r\nimport Modal from \"react-modal\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport Toolitem from \"../components/Tools/Toolitem\";\r\nimport { CategoriesData } from \"../dataJson/CategoriesData\";\r\n\r\nimport \"../assets/styles/profile/profile.css\";\r\nimport \"../assets/styles/Modal/modal.css\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL } from \"../config/mongo\";\r\n\r\nexport const ModalcustomStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-20%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    backgroundColor: \"rgba(0,0,0,0.8)\",\r\n    color: \"#fff\",\r\n    borderRadius: \"34px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    flexWrap: \"wrap\",\r\n    maxHeight: \"70vh\", // Set maximum height to 90% of viewport height\r\n    overflow: \"auto\", // Enable scrolling if content overflows the modal\r\n  },\r\n  overlay: {\r\n    backgroundColor: \"rgba(0,0,0,0.8)\",\r\n  },\r\n};\r\n\r\nconst Profile = () => {\r\n  let { name } = useParams();\r\n\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const { currentUser, currentUserData, updateUserData } =\r\n    useContext(AuthContext);\r\n\r\n  const [authUser, setAuthUser] = useState(null);\r\n  const [addBio, setAddBio] = useState(false);\r\n  const [addInterests, setAddInterests] = useState(true);\r\n  const [updateBio, setUpdateBio] = useState(false);\r\n  const [updateInterests, setUpdateInterests] = useState(false);\r\n\r\n  const [LikedTools, setLikedTools] = useState([]);\r\n  const [bio, setBio] = useState(\"\");\r\n  const [categories, setCategories] = useState();\r\n  const [checkedInterests, setcheckedInterests] = useState([]);\r\n\r\n  const [reducerValue, forceRender] = useReducer((x) => x + 1, 0);\r\n\r\n  //To Check if Edit profile button was clicked\r\n  const [editProfileClicked, setEditProfileClicked] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  //Handling Interests with Checkbox\r\n  const handleInterestCheck = (event) => {\r\n    const { value, checked } = event.target;\r\n    updateUserData();\r\n    let interests = checkedInterests;\r\n    if (checked) {\r\n      updateUserData();\r\n      interests = checkedInterests;\r\n      interests.push(value);\r\n      setcheckedInterests(interests);\r\n      // console.log(checkedInterests);\r\n    } else {\r\n      interests = interests.filter((interest) => interest !== value);\r\n      setcheckedInterests(interests);\r\n    }\r\n  };\r\n  //______________________________Modal Configs____________________________________________\r\n  //Modal Styles\r\n\r\n  Modal.setAppElement(\"#root\");\r\n  let subtitle;\r\n  const [modalIsOpen2, setIsOpen2] = React.useState(false);\r\n  const [modalIsOpen, setIsOpen] = React.useState(false);\r\n\r\n  function openModal() {\r\n    setIsOpen(true);\r\n  }\r\n  function closeModal() {\r\n    setIsOpen(false);\r\n  }\r\n  function openModal2() {\r\n    setIsOpen2(true);\r\n  }\r\n  function closeModal2() {\r\n    setIsOpen2(false);\r\n  }\r\n  //************************END Modal Configs********************************\r\n\r\n  const fetchUserCategories = async () => {\r\n    const userCategories = [];\r\n    CategoriesData?.map((group) => {\r\n      if (checkedInterests?.includes(group.groupName)) {\r\n        group?.categories?.map((category) => {\r\n          userCategories?.push(category);\r\n        });\r\n      }\r\n    });\r\n    try {\r\n      const res = await axios.post(\r\n        `${BASE_URL}/addCategories/${currentUserData.uid}/${userCategories}`\r\n      );\r\n      updateUserData();\r\n      closeModal();\r\n    } catch (e) {\r\n      clearUserCategories();\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const clearUserCategories = async () => {\r\n    const res = await axios.post(\r\n      `${BASE_URL}/clearInterests/${currentUserData.uid}`\r\n    );\r\n    updateUserData();\r\n  };\r\n  //______________________________Inserting Changes____________________________________________\r\n  const handleInterestsChange = async () => {\r\n    fetchUserCategories();\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    const link = `https://techbible.ai/#/UserProfile/${currentUserData?.uid}`;\r\n    navigator.clipboard\r\n      .writeText(link)\r\n      .then(() => {\r\n        setCopied(true);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Failed to copy link: \", error);\r\n      });\r\n  };\r\n\r\n  //Edit interests\r\n  const editInterests = () => {\r\n    let userCategories = currentUserData.interests;\r\n    let userInterests = [];\r\n    CategoriesData.map((group) => {\r\n      if (\r\n        userCategories?.some((element) => group.categories.includes(element))\r\n      ) {\r\n        userInterests.push(group.groupName);\r\n      }\r\n    });\r\n\r\n    setcheckedInterests(userInterests);\r\n    console.log(\"User Interests \" + checkedInterests);\r\n    setEditProfileClicked(false);\r\n    openModal();\r\n  };\r\n\r\n  //Edit profile\r\n  const openEditProfileModal = () => {\r\n    setEditProfileClicked(true);\r\n    setEditedUsername(currentUserData.username);\r\n    openModal();\r\n  };\r\n\r\n  /**************** Editing username and Profile PIC *****************/\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [editedUsername, setEditedUsername] = useState(\r\n    currentUserData?.username\r\n  );\r\n\r\n  const uploadImageUsername = async (username, url) => {\r\n    const res = await axios.post(\r\n      `${BASE_URL}/updateUsernameAndPhoto/${currentUser?.uid}/${username}/${url}`\r\n    );\r\n  };\r\n\r\n  const uploadImage = async () => {\r\n    // const usersRef = collection(db, \"Users\");\r\n    // const userDocRef = doc(usersRef, currentUser?.uid);\r\n    if (profilePicture === null) {\r\n      try {\r\n        const updateUserName = await axios.post(\r\n          `${BASE_URL}/updateUsername/${currentUserData?.uid}/${editedUsername}`\r\n        );\r\n        updateUserData();\r\n      } catch (e) {\r\n        console.log(\"Update username error : \" + e);\r\n      }\r\n      closeModal();\r\n      // Photo is not selected for upload, update only the username\r\n      // updateDoc(userDocRef, {\r\n      //   username: editedUsername,\r\n      // })\r\n      //   .then(() => {\r\n      //     console.log(\"Username updated\");\r\n      //     closeModal();\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     console.log(\"Error updating username:\", error);\r\n      //     closeModal();\r\n      //   });\r\n      // return;\r\n    }\r\n\r\n    const imageRef = ref(\r\n      storage,\r\n      `profile-pictures/${profilePicture.name + currentUserData?.uid}`\r\n    );\r\n\r\n    uploadBytes(imageRef, profilePicture)\r\n      .then((snapshot) => {\r\n        console.log(\"Image uploaded\");\r\n        getDownloadURL(snapshot.ref)\r\n          .then((url) => {\r\n            try {\r\n              console.log(\r\n                \"UPDATE name and photo : \" +\r\n                  currentUserData?.uid +\r\n                  \" \" +\r\n                  editedUsername +\r\n                  \" \" +\r\n                  url\r\n              );\r\n\r\n              uploadImageUsername(editedUsername, url);\r\n              console.log(\"IMAGE URL try  : \" + url);\r\n\r\n              updateUserData();\r\n            } catch (e) {\r\n              console.log(\"Update username and photo error : \" + e);\r\n              console.log(\"IMAGE URL catch  : \" + url);\r\n            }\r\n            closeModal();\r\n            // Photo has changed, update both username and photo\r\n            // updateDoc(userDocRef, {\r\n            //   username: editedUsername,\r\n            //   photo: url,\r\n            // })\r\n            //   .then(() => {\r\n            //     console.log(\"Username and photo updated\");\r\n            //     closeModal();\r\n            //   })\r\n            //   .catch((error) => {\r\n            //     console.log(\"Error updating username and photo:\", error);\r\n            //     closeModal();\r\n            //   });\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"Error getting download URL:\", error);\r\n            closeModal();\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error uploading image:\", error);\r\n        closeModal();\r\n      });\r\n    updateUserData();\r\n  };\r\n\r\n  //***********************END Inserting Changes********************************\r\n\r\n  //this is mongo\r\n  const LoadLikedTools = async () => {\r\n    try {\r\n      const response = await axios.get(`${BASE_URL}/mongo-tools`);\r\n      const LikedOnes = response.data.filter((tool) =>\r\n        tool.LikedBy.includes(currentUser?.uid)\r\n      );\r\n      setLikedTools(LikedOnes);\r\n      forceRender();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  //Verifying Sign in and loading users infos on load\r\n  useEffect(() => {\r\n    LoadLikedTools();\r\n    const listen = onAuthStateChanged(\r\n      auth,\r\n      (user) => {\r\n        if (user) {\r\n          setAuthUser(user);\r\n          currentUserData.interests.length > 0\r\n            ? setAddInterests(false)\r\n            : setAddInterests(false);\r\n        } else {\r\n          navigate(\"/signin\");\r\n          setAuthUser(null);\r\n        }\r\n      },\r\n      []\r\n    );\r\n\r\n    return listen();\r\n  }, [LikedTools]);\r\n\r\n  // useEffect(() => {\r\n  //   //getting the available categories\r\n  //   const dbRef = collection(db, \"Categories\");\r\n  //   onSnapshot(dbRef, (docsSnap) => {\r\n  //     const CategoriesArray = [];\r\n  //     docsSnap.forEach((doc) => {\r\n  //       CategoriesArray.push(doc.data());\r\n  //     });\r\n  //     setCategories(CategoriesArray);\r\n  //   });\r\n  // }, [categories]);\r\n\r\n  // New useEffect logic\r\n  useEffect(() => {\r\n    const CategoriesArray = [];\r\n    CategoriesData.map((group) => {\r\n      group.categories.map((category) => CategoriesArray.push(category));\r\n    });\r\n    setCategories(CategoriesArray);\r\n  }, []);\r\n  // }, [categories]);\r\n\r\n  //To add/Update a Bio\r\n  const UpdatingBio = async () => {\r\n    try {\r\n      if (bio.length > 50) {\r\n        alert(\"Your bio is more than 50 characters\");\r\n      } else {\r\n        // const UserRef = doc(db, \"Users\", currentUserData.uid);\r\n        // await updateDoc(UserRef, { bio: bio });\r\n        const res = await axios.post(\r\n          `${BASE_URL}/addBio/${currentUserData.uid}/${bio}`\r\n        );\r\n        updateUserData();\r\n        setAddBio(false);\r\n        setUpdateBio(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-column align-items-center pt-[6rem]\">\r\n      <div className=\"mt-desktop-10 mt-mobile-8 mt-tablet-8 mt-widescreen-30 layoutContainer\">\r\n        <main className=\"layoutMain pl-desktop-5 pl-mobile-4 \">\r\n          {/* <div className=\"text-[16px] fontWeight-500 ml-[2.5rem] \">\r\n            WELCOME,\r\n          </div> */}\r\n          <div className=\"relative xl:w-[711px] lg:w-[711px] max-w-[711px] m-0 pl-0 w-widescreen-5 mb-[4rem] profile-info-container bg-[#0D0C12] rounded-xl p-10\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"mb-3\">\r\n                  <img\r\n                    src={currentUserData.photo}\r\n                    className=\"w-[80px] h-[80px] sm:w-[80px] sm:h-[80px] md:w-[80px] md:h-[80px] border-2 border-gray-300 rounded-full\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-7 mr-[100px] \">\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-md-3 mb-3\">\r\n                    <p className=\"fontWeight-500\">{currentUserData.username}</p>\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    {name?.length === 0 ? (\r\n                      <button\r\n                        onClick={openEditProfileModal}\r\n                        className=\"edit-profile-btn mb-3 transition duration-250 \"\r\n                        type=\"button\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n\r\n                    <button\r\n                      className=\"absolute top-[44px] right-[10px] text-[12px]  bg-[#ef4823] px-[15px] py-[1.5px] rounded-[4px] transition duration-300 hover:bg-[#ca391c] active:bg-[#b32712]\"\r\n                      onClick={() => openModal2()}\r\n                    >\r\n                      Share\r\n                    </button>\r\n                    {/* <button\r\n                      onClick={() => setEditProfileClicked(true)}\r\n                      className=\"text-[12px]  bg-[#ef4823] px-[15px] py-[1.5px] my-3 rounded-[4px] transition duration-300 hover:bg-[#ca391c] active:bg-[#b32712]\"\r\n                    >\r\n                      Edit\r\n                    </button> */}\r\n                    <button\r\n                      onClick={openEditProfileModal}\r\n                      className=\"text-[12px]  bg-[#ef4823] px-[15px] py-[1.5px] my-3 rounded-[4px] transition duration-300 hover:bg-[#ca391c] active:bg-[#b32712]\"\r\n                      type=\"button\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"bio-interests-texts\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col mb-4\">\r\n                      <p>{currentUserData.bio}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                      {CategoriesData?.map((group) => {\r\n                        if (\r\n                          currentUserData?.interests?.some((interest) =>\r\n                            group.categories.includes(interest)\r\n                          )\r\n                        ) {\r\n                          return (\r\n                            <p className=\"text-[12] d-inline-block\">\r\n                              {group.groupName}&nbsp;&nbsp;\r\n                            </p>\r\n                          );\r\n                        }\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col profile-info-buttons\">\r\n                    <button className=\"mr-4 transition duration-250 w-[100px] my-2 \">\r\n                      <Link to=\"/folders\">My Folders</Link>\r\n                    </button>\r\n                    {/* <button className=\"mr-4 transition duration-250 \">\r\n                      Share\r\n                    </button> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"absolute top[] right-[10px]\">Share</div> */}\r\n          </div>\r\n          {/* END Profile Info Component */}\r\n\r\n          <div\r\n            style={{\r\n              paddingLeft: \"3rem\",\r\n              borderLeft: \"1px solid white\",\r\n              maxWidth: \"710px\",\r\n            }}\r\n          >\r\n            {/* BIO components */}\r\n            {currentUserData.bio ? (\r\n              <div>\r\n                {updateBio ? (\r\n                  <div className=\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[2rem]\">\r\n                    <div className=\"mb-4 md:mb-0\">\r\n                      <p className=\"font-bold text-lg leading-tight mb-3\">\r\n                        Bio\r\n                      </p>\r\n                      <input\r\n                        className=\"h-7 p-2 w-[30px] text-sm leading-tight text-black border-gray-400 border rounded-lg\"\r\n                        placeholder={currentUserData.bio}\r\n                        onChange={(e) => setBio(e.target.value)}\r\n                        type=\"text\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <button\r\n                        onClick={() => setUpdateBio(false)}\r\n                        className=\"cancel-btn fw-500\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                      <button\r\n                        onClick={() => UpdatingBio()}\r\n                        className=\"update-btn\"\r\n                      >\r\n                        Update\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[2rem]\">\r\n                    <div className=\"mb-4 md:mb-0\">\r\n                      <p className=\"font-bold text-lg leading-tight mb-3\">\r\n                        Bio\r\n                      </p>\r\n                      <div className=\"max-w-[10rem]\">\r\n                        <p className=\"text-sm\">{currentUserData.bio}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <button\r\n                        onClick={() => setUpdateBio(true)}\r\n                        className=\"edit-btn\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[2rem]\">\r\n                <div className=\"mb-4 md:mb-0\">\r\n                  <p className=\"font-bold text-lg leading-tight mb-3\">Bio</p>\r\n\r\n                  {addBio ? (\r\n                    <input\r\n                      className=\"h-7 p-2 w-[30px] text-sm leading-tight text-black border-gray-400 border rounded-lg\"\r\n                      placeholder=\"You can add your bio here\"\r\n                      onChange={(e) => setBio(e.target.value)}\r\n                      type=\"text\"\r\n                    />\r\n                  ) : (\r\n                    <span style={{ color: \"green\" }}>\r\n                      Tell us a little bit about you\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                {addBio ? (\r\n                  <div>\r\n                    <button\r\n                      onClick={() => setAddBio(false)}\r\n                      className=\"cancel-btn\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      onClick={() => UpdatingBio()}\r\n                      className=\"submit-btn\"\r\n                    >\r\n                      Submit\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <button onClick={() => setAddBio(true)} className=\"add-btn\">\r\n                      +Add\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            {/* End Of BIO components */}\r\n\r\n            {/* Interests components */}\r\n            <div className=\"bg-[#232628] rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between mb-[4]\">\r\n              <div className=\"mb-4 md:mb-0\">\r\n                <p className=\"font-bold text-lg leading-tight mb-3\">\r\n                  Interests\r\n                </p>\r\n                <div className=\"flex flex-wrap\">\r\n                  {/* {currentUserData?.interests?.map((i, index) => (\r\n                    <p\r\n                      className=\"text-sm leading-tight d-inline mr-1 mb-1\"\r\n                      key={index}\r\n                    >\r\n                      {i},\r\n                    </p>\r\n                  ))} */}\r\n                  {CategoriesData?.map((group) => {\r\n                    if (\r\n                      currentUserData?.interests?.some((interest) =>\r\n                        group.categories.includes(interest)\r\n                      )\r\n                    ) {\r\n                      return (\r\n                        <div className=\"bg-[#535353] rounded-md py-[2px] px-[4px] mr-2 mb-2\">\r\n                          <p className=\"text-sm leading-tight d-inline mr-1 mb-1\">\r\n                            {group.groupName}&nbsp;&nbsp;\r\n                          </p>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n              </div>\r\n              {currentUserData?.interests?.length === 0 ? (\r\n                <button onClick={editInterests} className=\"edit-btn\">\r\n                  +Add\r\n                </button>\r\n              ) : (\r\n                <div>\r\n                  <button onClick={editInterests} className=\"edit-btn\">\r\n                    Edit\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* End Of Interests components */}\r\n          </div>\r\n\r\n          {/* My List Container */}\r\n          <div className=\"mylist-container\" style={{ marginTop: \"4rem\" }}>\r\n            <h2 className=\"font-bold mb-[2rem]\">My List</h2>\r\n            <div\r\n              className=\"list-tools\"\r\n              style={{ padding: \"0 0 0 3rem\", borderLeft: \"1px solid white\" }}\r\n            >\r\n              {LikedTools?.map((tool) => (\r\n                <Toolitem\r\n                  toolData={tool}\r\n                  forceRender={forceRender}\r\n                  homeTool={false}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          {/* END My List Container */}\r\n        </main>\r\n      </div>\r\n\r\n      {/* View of Profile Modals */}\r\n      {!editProfileClicked ? (\r\n        <div>\r\n          <Modal\r\n            isOpen={modalIsOpen}\r\n            onRequestClose={closeModal}\r\n            style={ModalcustomStyles}\r\n            contentLabel=\"Example Modal\"\r\n          >\r\n            <div className=\"mx-16\">\r\n              <h2\r\n                ref={(_subtitle) => (subtitle = _subtitle)}\r\n                className=\"mb-4 text-white xl:text-[30px] lg:text-[28px] md:text-[26px] sm:text-[24px] light fontWeight-500\"\r\n              >\r\n                Please choose your interests:\r\n              </h2>\r\n              <span\r\n                id=\"close-button\"\r\n                className=\"text-gray-600 hover:text-black hovet:text-white cursor-pointer px-3 transition duration-250\"\r\n                onClick={closeModal}\r\n              >\r\n                X\r\n              </span>\r\n              <div\r\n                className=\"flex flex-wrap justify-start gap-4 h-[40vh] \"\r\n                style={{ maxHeight: \"200px\", overflowY: \"auto\" }}\r\n              >\r\n                {CategoriesData?.map((group) => (\r\n                  <label\r\n                    key={group.groupName}\r\n                    className=\"flex items-center bg-gray-300 max-w-lg rounded-md py-1 px-3 transition duration-250 hover:bg-white cursor-pointer mr-3\"\r\n                    htmlFor={group.groupName}\r\n                    style={\r\n                      checkedInterests.includes(group.groupName)\r\n                        ? { backgroundColor: \"#EF4823\", color: \"white\" }\r\n                        : {}\r\n                    }\r\n                  >\r\n                    <div className=\"flex items-center w-full\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id={group.groupName}\r\n                        value={group.groupName}\r\n                        onChange={(e) => handleInterestCheck(e)}\r\n                        checked={checkedInterests.includes(group.groupName)}\r\n                        className=\"form-checkbox  w-4 text-primary\"\r\n                        style={{ display: \"none\" }}\r\n                      />\r\n\r\n                      <span\r\n                        className=\"ml-2 text-black xl:text-[15px] lg:text-[15px] md:text-[12px] sm:text-[12px] text-[12px]  font-medium w-full\"\r\n                        style={\r\n                          checkedInterests.includes(group.groupName)\r\n                            ? { color: \"white\" }\r\n                            : {}\r\n                        }\r\n                      >\r\n                        {group.groupName}\r\n                      </span>\r\n                    </div>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n              <span\r\n                className=\"inline-block mt-4 px-4 py-1 bg-white text-black transition duration-250 hover:bg-black hover:fontWeight-bold rounded-lg cursor-pointer\"\r\n                onClick={handleInterestsChange}\r\n              >\r\n                Save\r\n              </span>\r\n            </div>\r\n          </Modal>\r\n        </div>\r\n      ) : (\r\n        <div className=\"form-container\">\r\n          <Modal\r\n            isOpen={modalIsOpen}\r\n            onRequestClose={closeModal}\r\n            style={ModalcustomStyles}\r\n            contentLabel=\"Example Modal\"\r\n          >\r\n            <div className=\"flex flex-col items-center\">\r\n              <label className=\"form-label text-[14px] text-[#FF6700] poppins\">\r\n                Username\r\n              </label>\r\n              <input\r\n                className=\" w-[235px] form-input text-black bg-white rounded-md py-1 px-2 ml-2 light text-[12px]  \"\r\n                value={editedUsername}\r\n                onChange={(e) => {\r\n                  setEditedUsername(e.target.value);\r\n                }}\r\n              />\r\n\r\n              <label className=\"form-label text-[14px] text-[#FF6700] poppins mt-2\">\r\n                Select a photo:\r\n              </label>\r\n              <input\r\n                className=\"form-input text-black bg-white rounded-md py-1 px-2 ml-2 light text-[12px] max-w-[400px] \"\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(event) => setProfilePicture(event.target.files[0])}\r\n              />\r\n\r\n              <button\r\n                className=\"bg-[#EF4823] w-[10vh] py-[2px] rounded-md text-[14px] poppins transition duration-250 hover:bg-[#FF6700] mt-2\"\r\n                onClick={uploadImage}\r\n              >\r\n                Upload\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        </div>\r\n      )}\r\n      {/* END View of Profile Modals */}\r\n      <Modal\r\n        isOpen={modalIsOpen2}\r\n        onRequestClose={closeModal}\r\n        style={ModalcustomStyles}\r\n        contentLabel=\"Example Modal-LINK\"\r\n      >\r\n        <div className=\"p-6\">\r\n          <button\r\n            onClick={closeModal2}\r\n            className=\"absolute top-2 right-2 text-gray-400 hover:text-gray-200 focus:outline-none\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-6 w-6\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M6 18L18 6M6 6l12 12\"\r\n              />\r\n            </svg>\r\n          </button>\r\n          <p className=\"mb-4 font-bold\">Profile link:</p>\r\n          <code>{`UserProfile/${currentUserData?.uid}`}</code>\r\n          <br />\r\n          <button\r\n            onClick={copyToClipboard}\r\n            className={`mt-4 px-4 py-2 rounded ${\r\n              copied ? \"bg-green-500 text-white\" : \"bg-blue-500 text-white\"\r\n            }`}\r\n          >\r\n            {copied ? \"Copied!\" : \"Copy Link\"}\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}