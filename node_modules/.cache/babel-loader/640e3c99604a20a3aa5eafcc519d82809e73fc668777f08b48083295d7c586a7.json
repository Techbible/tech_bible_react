{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useReducer,useContext}from\"react\";import\"../../assets/styles/profile/profile.css\";import\"../../assets/styles/Modal/modal.css\";import Toolitem from\"../../components/Tools/Toolitem\";import{collection,getDocs,query,where}from\"firebase/firestore\";import{AuthContext}from\"../../context/AuthContext\";import{db}from\"../../config/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LikedTools(){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser,isAdmin=_useContext.isAdmin;var _useReducer=useReducer(function(x){return x+1;},0),_useReducer2=_slicedToArray(_useReducer,2),reducerValue=_useReducer2[0],forceRender=_useReducer2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),LikedTools=_useState2[0],setLikedTools=_useState2[1];//loading the liked tools by the currentUser\nvar LoadLikedTools=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var ToolsRef,LikedOnes,q,querySnapshot;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:ToolsRef=collection(db,\"Tools\");LikedOnes=[];q=query(ToolsRef,where(\"LikedBy\",\"array-contains\",currentUser===null||currentUser===void 0?void 0:currentUser.uid));_context.prev=3;_context.next=6;return getDocs(q);case 6:querySnapshot=_context.sent;querySnapshot.forEach(function(doc){LikedOnes.push(doc.data());setLikedTools(LikedOnes);});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function LoadLikedTools(){return _ref.apply(this,arguments);};}();useEffect(function(){LoadLikedTools();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"liked-tools w-[500px] mt-[10rem] mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-10\",children:\"All your liked tools\"}),/*#__PURE__*/_jsx(\"div\",{className:\"lists-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tools-list-container\",children:LikedTools?LikedTools===null||LikedTools===void 0?void 0:LikedTools.map(function(LikedTool){return/*#__PURE__*/_jsx(Toolitem,{toolData:LikedTool,forceRender:forceRender,homeTool:false});}):/*#__PURE__*/_jsx(\"div\",{children:\"you didn't like any tools yet\"})})})]});}export default LikedTools;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","Toolitem","collection","getDocs","query","where","AuthContext","db","jsx","_jsx","jsxs","_jsxs","LikedTools","_useContext","currentUser","isAdmin","_useReducer","x","_useReducer2","_slicedToArray","reducerValue","forceRender","_useState","_useState2","setLikedTools","LoadLikedTools","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ToolsRef","LikedOnes","q","querySnapshot","wrap","_callee$","_context","prev","next","uid","sent","forEach","doc","push","data","t0","console","log","stop","apply","arguments","className","children","map","LikedTool","toolData","homeTool"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/views/profile/LikedTools.jsx"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport \"../../assets/styles/profile/profile.css\";\r\nimport \"../../assets/styles/Modal/modal.css\";\r\nimport Toolitem from \"../../components/Tools/Toolitem\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { db } from \"../../config/firebase\";\r\n\r\nfunction LikedTools() {\r\n  const { currentUser, isAdmin } = useContext(AuthContext);\r\n\r\n  const [reducerValue, forceRender] = useReducer((x) => x + 1, 0);\r\n  const [LikedTools, setLikedTools] = useState([]);\r\n\r\n  //loading the liked tools by the currentUser\r\n  const LoadLikedTools = async () => {\r\n    const ToolsRef = collection(db, \"Tools\");\r\n    const LikedOnes = [];\r\n    const q = query(\r\n      ToolsRef,\r\n      where(\"LikedBy\", \"array-contains\", currentUser?.uid)\r\n    );\r\n\r\n    try {\r\n      const querySnapshot = await getDocs(q);\r\n      querySnapshot.forEach((doc) => {\r\n        LikedOnes.push(doc.data());\r\n        setLikedTools(LikedOnes);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    LoadLikedTools();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"liked-tools w-[500px] mt-[10rem] mx-auto\">\r\n      <h1 className=\"mb-10\">All your liked tools</h1>\r\n      <div className=\"lists-container\">\r\n        <div className=\"tools-list-container\">\r\n          {LikedTools ? (\r\n            LikedTools?.map((LikedTool) => (\r\n              <Toolitem\r\n                toolData={LikedTool}\r\n                forceRender={forceRender}\r\n                homeTool={false}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div>you didn't like any tools yet</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LikedTools;\r\n"],"mappings":"gcAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,CAC1E,MAAO,yCAAyC,CAChD,MAAO,qCAAqC,CAC5C,MAAO,CAAAC,QAAQ,KAAM,iCAAiC,CACtD,OAASC,UAAU,CAAEC,OAAO,CAAEC,KAAK,CAAEC,KAAK,KAAQ,oBAAoB,CACtE,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,EAAE,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,IAAAC,WAAA,CAAiCb,UAAU,CAACM,WAAW,CAAC,CAAhDQ,WAAW,CAAAD,WAAA,CAAXC,WAAW,CAAEC,OAAO,CAAAF,WAAA,CAAPE,OAAO,CAE5B,IAAAC,WAAA,CAAoCjB,UAAU,CAAC,SAACkB,CAAC,QAAK,CAAAA,CAAC,CAAG,CAAC,GAAE,CAAC,CAAC,CAAAC,YAAA,CAAAC,cAAA,CAAAH,WAAA,IAAxDI,YAAY,CAAAF,YAAA,IAAEG,WAAW,CAAAH,YAAA,IAChC,IAAAI,SAAA,CAAoCzB,QAAQ,CAAC,EAAE,CAAC,CAAA0B,UAAA,CAAAJ,cAAA,CAAAG,SAAA,IAAzCV,UAAU,CAAAW,UAAA,IAAEC,aAAa,CAAAD,UAAA,IAEhC;AACA,GAAM,CAAAE,cAAc,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,SAAA,CAAAC,CAAA,CAAAC,aAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACfR,QAAQ,CAAG7B,UAAU,CAACK,EAAE,CAAE,OAAO,CAAC,CAClCyB,SAAS,CAAG,EAAE,CACdC,CAAC,CAAG7B,KAAK,CACb2B,QAAQ,CACR1B,KAAK,CAAC,SAAS,CAAE,gBAAgB,CAAES,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAE0B,GAAG,CACrD,CAAC,CAAAH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG6B,CAAApC,OAAO,CAAC8B,CAAC,CAAC,QAAhCC,aAAa,CAAAG,QAAA,CAAAI,IAAA,CACnBP,aAAa,CAACQ,OAAO,CAAC,SAACC,GAAG,CAAK,CAC7BX,SAAS,CAACY,IAAI,CAACD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,CAC1BrB,aAAa,CAACQ,SAAS,CAAC,CAC1B,CAAC,CAAC,CAACK,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAEHU,OAAO,CAACC,GAAG,CAAAX,QAAA,CAAAS,EAAM,CAAC,CAAC,yBAAAT,QAAA,CAAAY,IAAA,MAAAnB,OAAA,iBAEtB,kBAjBK,CAAAL,cAAcA,CAAA,SAAAC,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAiBnB,CAEDrD,SAAS,CAAC,UAAM,CACd2B,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEd,KAAA,QAAKyC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvD5C,IAAA,OAAI2C,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC/C5C,IAAA,QAAK2C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B5C,IAAA,QAAK2C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClCzC,UAAU,CACTA,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAE0C,GAAG,CAAC,SAACC,SAAS,qBACxB9C,IAAA,CAACR,QAAQ,EACPuD,QAAQ,CAAED,SAAU,CACpBlC,WAAW,CAAEA,WAAY,CACzBoC,QAAQ,CAAE,KAAM,CACjB,CAAC,EACH,CAAC,cAEFhD,IAAA,QAAA4C,QAAA,CAAK,+BAA6B,CAAK,CACxC,CACE,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAzC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}