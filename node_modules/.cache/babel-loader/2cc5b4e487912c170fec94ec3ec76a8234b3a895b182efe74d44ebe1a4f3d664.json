{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{BASE_URL}from\"../../config/mongo\";import{useNavigate}from\"react-router-dom\";import{useContext}from\"react\";import{AuthContext}from\"../../context/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddNewsArticle(){var _useContext=useContext(AuthContext),isAdmin=_useContext.isAdmin;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),ImageURL=_useState6[0],setImageURL=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),URL=_useState8[0],setURL=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),Provider=_useState10[0],setProvider=_useState10[1];var navigate=useNavigate();useEffect(function(){if(!isAdmin){navigate(\"/news\");}},[]);var handleAddArticle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"\".concat(BASE_URL,\"/addArticle\"),{Title:Title,Description:Description,ImageURL:ImageURL,URL:URL,Provider:Provider});case 4:response=_context.sent;// Handle successful response\nconsole.log(\"Post shared successfully:\",response.data);navigate(\"/news\");// You can perform additional actions here, such as displaying a success message or redirecting to another page\n_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);// Handle error\nconsole.error(\"Error sharing post:\",_context.t0);// You can display an error message or perform any necessary error handling\ncase 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleAddArticle(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-black\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm p-6 bg-gray-800 rounded shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-white text-center mb-4\",children:\"Share a New Article\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddArticle,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-gray-300 text-sm font-bold mb-2\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",className:\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\",value:Title,onChange:function onChange(e){return setTitle(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-gray-300 text-sm font-bold mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:\"3\",className:\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\",value:Description,onChange:function onChange(e){return setDescription(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",className:\"block text-gray-300 text-sm font-bold mb-2\",children:\"URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"url\",name:\"url\",className:\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\",value:URL,onChange:function onChange(e){return setURL(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageurl\",className:\"block text-gray-300 text-sm font-bold mb-2\",children:\"Thumbnail URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"imageurl\",name:\"imageurl\",className:\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\",value:ImageURL,onChange:function onChange(e){return setImageURL(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Provider\",className:\"block text-gray-300 text-sm font-bold mb-2\",children:\"The Provider\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Provider\",name:\"Provider\",className:\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\",value:Provider,onChange:function onChange(e){return setProvider(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded focus:outline-none\",children:\"Share\"})})]})]})});}export default AddNewsArticle;","map":{"version":3,"names":["axios","React","useState","useEffect","BASE_URL","useNavigate","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","AddNewsArticle","_useContext","isAdmin","_useState","_useState2","_slicedToArray","Title","setTitle","_useState3","_useState4","Description","setDescription","_useState5","_useState6","ImageURL","setImageURL","_useState7","_useState8","URL","setURL","_useState9","_useState10","Provider","setProvider","navigate","handleAddArticle","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","post","concat","sent","console","log","data","t0","error","stop","_x","apply","arguments","className","children","onSubmit","htmlFor","type","id","name","value","onChange","target","required","rows"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/admin/AddNewsArticle/AddNewsArticle.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { BASE_URL } from \"../../config/mongo\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nfunction AddNewsArticle() {\r\n  const { isAdmin } = useContext(AuthContext);\r\n  const [Title, setTitle] = useState(\"\");\r\n  const [Description, setDescription] = useState(\"\");\r\n  const [ImageURL, setImageURL] = useState(\"\");\r\n  const [URL, setURL] = useState(\"\");\r\n  const [Provider, setProvider] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (!isAdmin) {\r\n      navigate(\"/news\");\r\n    }\r\n  }, []);\r\n  \r\n  const handleAddArticle = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(`${BASE_URL}/addArticle`, {\r\n        Title,\r\n        Description,\r\n        ImageURL,\r\n        URL,\r\n        Provider,\r\n      });\r\n      // Handle successful response\r\n      console.log(\"Post shared successfully:\", response.data);\r\n      navigate(\"/news\");\r\n      // You can perform additional actions here, such as displaying a success message or redirecting to another page\r\n    } catch (error) {\r\n      // Handle error\r\n      console.error(\"Error sharing post:\", error);\r\n      // You can display an error message or perform any necessary error handling\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-black\">\r\n      <div className=\"w-full max-w-sm p-6 bg-gray-800 rounded shadow-md\">\r\n        <h2 className=\"text-2xl font-semibold text-white text-center mb-4\">\r\n          Share a New Article\r\n        </h2>\r\n        <form onSubmit={handleAddArticle}>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"title\"\r\n              className=\"block text-gray-300 text-sm font-bold mb-2\"\r\n            >\r\n              Title\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              className=\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\"\r\n              value={Title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"description\"\r\n              className=\"block text-gray-300 text-sm font-bold mb-2\"\r\n            >\r\n              Description\r\n            </label>\r\n            <textarea\r\n              id=\"description\"\r\n              name=\"description\"\r\n              rows=\"3\"\r\n              className=\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\"\r\n              value={Description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              required\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"url\"\r\n              className=\"block text-gray-300 text-sm font-bold mb-2\"\r\n            >\r\n              URL\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"url\"\r\n              name=\"url\"\r\n              className=\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\"\r\n              value={URL}\r\n              onChange={(e) => setURL(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"imageurl\"\r\n              className=\"block text-gray-300 text-sm font-bold mb-2\"\r\n            >\r\n              Thumbnail URL\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"imageurl\"\r\n              name=\"imageurl\"\r\n              className=\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\"\r\n              value={ImageURL}\r\n              onChange={(e) => setImageURL(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"Provider\"\r\n              className=\"block text-gray-300 text-sm font-bold mb-2\"\r\n            >\r\n              The Provider\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"Provider\"\r\n              name=\"Provider\"\r\n              className=\"w-full px-3 py-2 border rounded bg-gray-700 text-white focus:outline-none focus:border-blue-500\"\r\n              value={Provider}\r\n              onChange={(e) => setProvider(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-center\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded focus:outline-none\"\r\n            >\r\n              Share\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default AddNewsArticle;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}