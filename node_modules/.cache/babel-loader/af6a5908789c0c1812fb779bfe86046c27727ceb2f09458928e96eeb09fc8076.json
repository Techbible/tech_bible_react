{"ast":null,"code":"import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{onAuthStateChanged,signOut}from\"firebase/auth\";import React,{useEffect,useState}from\"react\";import{auth,db}from\"../../config/firebase\";import{Link,useNavigate}from\"react-router-dom\";import\"react-toastify/dist/ReactToastify.css\";import{doc,onSnapshot}from\"firebase/firestore\";import{useContext}from\"react\";import{AuthContext}from\"../../context/AuthContext\";import ProfilePhoto from\"../ProfilePhoto\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),authUser=_useState2[0],setAuthUser=_useState2[1];var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser,currentUserData=_useContext.currentUserData,isAdmin=_useContext.isAdmin;var _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),screenWidth=_useState4[0],setScreenWidth=_useState4[1];useEffect(function(){console.log(\"Navbar User Data\"+typeof JSON.stringify(currentUserData));var handleResize=function handleResize(){setScreenWidth(window.innerWidth);};// Attach the event listener on component mount\nwindow.addEventListener(\"resize\",handleResize);// Clean up the event listener on component unmount\nreturn function(){window.removeEventListener(\"resize\",handleResize);};},[]);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isMenuClicked=_useState6[0],setIsMenuClicked=_useState6[1];var navigate=useNavigate();var handleIsMenuClicked=function handleIsMenuClicked(){setIsMenuClicked(!isMenuClicked);};useEffect(function(){console.log(\"navbar : \"+typeof currentUserData);},[]);useEffect(function(){setIsMenuClicked(false);var listen=onAuthStateChanged(auth,function(user){if(user){setAuthUser(user);}else{setAuthUser(null);}});return listen();},[currentUser]);//Sign out\nvar UserSignOut=function UserSignOut(){signOut(auth).then(function(){console.log(\"signed out on successfully\");navigate(\"/signin\");}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsx(\"header\",{\"aria-label\":\"Site Header\",className:\"navbar-header py-6 border-none bg-black bg-opacity-50\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-black\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-lg\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:/*#__PURE__*/_jsx(\"img\",{className:\"xl:w-[200px] lg:w-[160px] md:w-[180px] sm:w-[140px] w-[140px] mx-auto\",src:\"\".concat(process.env.PUBLIC_URL,\"/TechBibleLogoV2.svg\"),alt:\"\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleIsMenuClicked,className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarMenu\",\"aria-controls\":\"navbarMenu\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse \".concat(isMenuClicked?'show':''),id:\"navbarMenu\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto gap-4\",children:[!authUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"nav-link\",children:\"Log in\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"nav-link\",children:\"Sign up\"})})]}):/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-info-container\",children:/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentUserData===null||currentUserData===void 0?void 0:currentUserData.photo,className:\"pfp\"}),/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:currentUserData===null||currentUserData===void 0?void 0:currentUserData.username})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"signout cursor-pointer text-white px-2 py-1 rounded-md fontWeight-500 transition duration-200 hover:bg-[#ef4823] hover:text-black\",onClick:UserSignOut,children:\"Sign out\"})]}),isAdmin&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/AdminSpace\",className:\"nav-link\",children:\"Admin Space\"})})]})})]})})});}export default Navbar;","map":{"version":3,"names":["onAuthStateChanged","signOut","React","useEffect","useState","auth","db","Link","useNavigate","doc","onSnapshot","useContext","AuthContext","ProfilePhoto","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","_useState","_useState2","_slicedToArray","authUser","setAuthUser","_useContext","currentUser","currentUserData","isAdmin","_useState3","window","innerWidth","_useState4","screenWidth","setScreenWidth","console","log","JSON","stringify","handleResize","addEventListener","removeEventListener","_useState5","_useState6","isMenuClicked","setIsMenuClicked","navigate","handleIsMenuClicked","listen","user","UserSignOut","then","catch","error","className","children","to","src","concat","process","env","PUBLIC_URL","alt","onClick","type","id","photo","username"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/components/Navbar/Navbar.jsx"],"sourcesContent":["import { onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { auth, db } from \"../../config/firebase\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { doc, onSnapshot } from \"firebase/firestore\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport ProfilePhoto from \"../ProfilePhoto\";\r\n\r\nfunction Navbar() {\r\n  const [authUser, setAuthUser] = useState(null);\r\n  const { currentUser, currentUserData, isAdmin } = useContext(AuthContext);\r\n\r\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Navbar User Data\" + typeof JSON.stringify(currentUserData));\r\n    const handleResize = () => {\r\n      setScreenWidth(window.innerWidth);\r\n    };\r\n    // Attach the event listener on component mount\r\n    window.addEventListener(\"resize\", handleResize);\r\n    // Clean up the event listener on component unmount\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  const [isMenuClicked, setIsMenuClicked] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleIsMenuClicked = () => {\r\n    setIsMenuClicked(!isMenuClicked);\r\n  };\r\n  useEffect(() => {\r\n    console.log(\"navbar : \" + typeof currentUserData);\r\n  }, []);\r\n  useEffect(() => {\r\n    setIsMenuClicked(false);\r\n\r\n    const listen = onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        setAuthUser(user);\r\n      } else {\r\n        setAuthUser(null);\r\n      }\r\n    });\r\n    return listen();\r\n  }, [currentUser]);\r\n  //Sign out\r\n  const UserSignOut = () => {\r\n    signOut(auth)\r\n      .then(() => {\r\n        console.log(\"signed out on successfully\");\r\n        navigate(\"/signin\");\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <header aria-label=\"Site Header\" className=\"navbar-header py-6 border-none bg-black bg-opacity-50\">\r\n  <nav className=\"navbar navbar-expand-lg navbar-dark bg-black\">\r\n    <div className=\"container-lg\">\r\n      <Link to=\"/\" className=\"navbar-brand\">\r\n        <img\r\n          className=\"xl:w-[200px] lg:w-[160px] md:w-[180px] sm:w-[140px] w-[140px] mx-auto\"\r\n          src={`${process.env.PUBLIC_URL}/TechBibleLogoV2.svg`}\r\n          alt=\"\"\r\n        />    \r\n      </Link>\r\n      <button\r\n        onClick={handleIsMenuClicked}\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarMenu\"\r\n        aria-controls=\"navbarMenu\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div\r\n        className={`collapse navbar-collapse ${isMenuClicked ? 'show' : ''}`}\r\n        id=\"navbarMenu\"\r\n      >\r\n        <ul className=\"navbar-nav ms-auto gap-4\">\r\n          {!authUser ? (\r\n            <>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/signin\" className=\"nav-link\">Log in</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/signup\" className=\"nav-link\">Sign up</Link>\r\n              </li>\r\n            </>\r\n          ) : (\r\n            <li className=\"nav-item\">\r\n              <div className=\"user-info-container\">\r\n                <Link to=\"/profile\" className=\"nav-link\">\r\n                  <img src={currentUserData?.photo} className=\"pfp\" />\r\n                  <span className=\"username\">{currentUserData?.username}</span>\r\n                </Link>\r\n              </div>\r\n              <button\r\n                className=\"signout cursor-pointer text-white px-2 py-1 rounded-md fontWeight-500 transition duration-200 hover:bg-[#ef4823] hover:text-black\"\r\n                onClick={UserSignOut}\r\n              >\r\n                Sign out\r\n              </button>\r\n            </li>\r\n          )}\r\n          {isAdmin && (\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/AdminSpace\" className=\"nav-link\">Admin Space</Link>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</header>\r\n\r\n  \r\n  );\r\n}\r\n\r\nexport default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}