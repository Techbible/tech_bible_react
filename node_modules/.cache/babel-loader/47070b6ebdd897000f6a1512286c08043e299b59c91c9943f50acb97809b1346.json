{"ast":null,"code":"import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{auth}from\"../../config/firebase\";import{updatePassword,reauthenticateWithCredential}from\"firebase/auth\";import{EmailAuthProvider}from\"firebase/auth\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdatePassword=function UpdatePassword(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newPassword=_useState2[0],setNewPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),currentPassword=_useState6[0],setCurrentPassword=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),passwordConfirmed=_useState8[0],setPasswordConfirmed=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),currentPasswordCorrect=_useState10[0],setCurrentPasswordCorrect=_useState10[1];var onChangePasswordPress=function onChangePasswordPress(){var user=auth.currentUser;var credential=EmailAuthProvider.credential(user.email,currentPassword);if(newPassword===confirmPassword){setPasswordConfirmed(true);reauthenticateWithCredential(user,credential).then(function(){setCurrentPasswordCorrect(true);updatePassword(user,newPassword).then(function(){alert(\"Password was changed succesfuly\");}).catch(function(error){setCurrentPasswordCorrect(false);//   alert(\"Change password failed \" + error);\n});}).catch(function(error){setCurrentPasswordCorrect(false);// alert(\"Credential Erreur\");\n});}else{setPasswordConfirmed(false);}};return/*#__PURE__*/_jsx(\"section\",{className:\"bg-gradient-to-tl from-purple-300 to-indigo-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-6 bg-[#0D0C12] rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-1 text-xl text-white font-bold leading-tight tracking-tight md:text-2xl dark:text-white\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-4 lg:mt-5 md:space-y-5\",action:\"#\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"current-password\",className:\"block mb-2 text-sm font-medium text-white dark:text-white\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"current-password\",className:\"bg-gray-50 border border-gray-300 text-black sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:\"\",value:currentPassword,onChange:function onChange(e){setCurrentPassword(e.target.value);}}),currentPasswordCorrect?/*#__PURE__*/_jsx(\"div\",{style:{display:\"none\"}}):/*#__PURE__*/_jsx(\"div\",{className:\"text-red-900\",children:\"The current password is not correct\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"block mb-2 text-sm font-medium text-white dark:text-white\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"bg-gray-50 border border-gray-300 text-black sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",required:\"\",value:newPassword,onChange:function onChange(e){setNewPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"confirm-password\",className:\"block mb-2 text-sm font-medium text-white dark:text-white\",children:\"Confirm password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm-password\",id:\"confirm-password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",className:\"bg-gray-50 border border-gray-300 text-black sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",required:\"\",value:confirmPassword,onChange:function onChange(e){setConfirmPassword(e.target.value);}}),passwordConfirmed?/*#__PURE__*/_jsx(\"div\",{style:{display:'none'}}):/*#__PURE__*/_jsx(\"div\",{className:\"text-red-900\",children:\"The confirmed password and the new password must be the same\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center h-5\",children:/*#__PURE__*/_jsx(\"input\",{id:\"newsletter\",\"aria-describedby\":\"newsletter\",type:\"checkbox\",className:\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800\",required:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 text-sm\",children:/*#__PURE__*/_jsxs(\"label\",{for:\"newsletter\",className:\"font-light text-white dark:text-gray-300\",children:[\"I accept the\",\" \",/*#__PURE__*/_jsx(\"a\",{className:\"font-medium text-[#7869e6] hover:underline dark:text-primary-500\",href:\"#\",children:\"Terms and Conditions\"})]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-white bg-[#7869e6] transition duration-300 hover:bg-[#604fe7] active:bg-[#4635ca] focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\",onClick:onChangePasswordPress,children:\"Reset passwod\"})]})]})})});};export default UpdatePassword;","map":{"version":3,"names":["React","useEffect","useState","auth","updatePassword","reauthenticateWithCredential","EmailAuthProvider","Link","jsx","_jsx","jsxs","_jsxs","UpdatePassword","_useState","_useState2","_slicedToArray","newPassword","setNewPassword","_useState3","_useState4","confirmPassword","setConfirmPassword","_useState5","_useState6","currentPassword","setCurrentPassword","_useState7","_useState8","passwordConfirmed","setPasswordConfirmed","_useState9","_useState10","currentPasswordCorrect","setCurrentPasswordCorrect","onChangePasswordPress","user","currentUser","credential","email","then","alert","catch","error","className","children","action","for","type","name","placeholder","required","value","onChange","e","target","style","display","id","href","onClick"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/components/ProfileSettings/UpdatePassword.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { auth } from \"../../config/firebase\";\nimport { updatePassword, reauthenticateWithCredential } from \"firebase/auth\";\nimport { EmailAuthProvider } from \"firebase/auth\";\nimport { Link } from \"react-router-dom\";\n\nconst UpdatePassword = () => {\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n\n  const [passwordConfirmed, setPasswordConfirmed] = useState(true);\n  const [currentPasswordCorrect, setCurrentPasswordCorrect] = useState(true);\n\n  const onChangePasswordPress = () => {\n    var user = auth.currentUser;\n    const credential = EmailAuthProvider.credential(\n      user.email,\n      currentPassword\n    );\n    if (newPassword === confirmPassword) {\n      setPasswordConfirmed(true);\n\n      reauthenticateWithCredential(user, credential)\n        .then(() => {\n          setCurrentPasswordCorrect(true);\n          updatePassword(user, newPassword)\n            .then(() => {\n              alert(\"Password was changed succesfuly\");\n            })\n            .catch((error) => {\n              setCurrentPasswordCorrect(false);\n\n              //   alert(\"Change password failed \" + error);\n            });\n        })\n        .catch((error) => {\n          setCurrentPasswordCorrect(false);\n          // alert(\"Credential Erreur\");\n        });\n    } else {\n      setPasswordConfirmed(false);\n    }\n  };\n\n  return (\n    <section className=\"bg-gradient-to-tl from-purple-300 to-indigo-900\">\n      <div className=\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\">\n        <div className=\"w-full p-6 bg-[#0D0C12] rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-8\">\n          <h2 className=\"mb-1 text-xl text-white font-bold leading-tight tracking-tight md:text-2xl dark:text-white\">\n            Change Password\n          </h2>\n          <div className=\"mt-4 space-y-4 lg:mt-5 md:space-y-5\" action=\"#\">\n            <div>\n              <label\n                for=\"current-password\"\n                className=\"block mb-2 text-sm font-medium text-white dark:text-white\"\n              >\n                Current Password\n              </label>\n              <input\n                type=\"password\"\n                name=\"current-password\"\n                className=\"bg-gray-50 border border-gray-300 text-black sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                placeholder=\"••••••••\"\n                required=\"\"\n                value={currentPassword}\n                onChange={(e) => {\n                  setCurrentPassword(e.target.value);\n                }}\n              />\n              {currentPasswordCorrect ? (\n                <div style={{ display: \"none\" }}></div>\n              ) : (\n                <div className=\"text-red-900\">\n                  The current password is not correct\n                </div>\n              )}\n            </div>\n            <div>\n              <label\n                for=\"password\"\n                className=\"block mb-2 text-sm font-medium text-white dark:text-white\"\n              >\n                New Password\n              </label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                placeholder=\"••••••••\"\n                className=\"bg-gray-50 border border-gray-300 text-black sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                required=\"\"\n                value={newPassword}\n                onChange={(e) => {\n                  setNewPassword(e.target.value);\n                }}\n              />\n            </div>\n            <div>\n              <label\n                for=\"confirm-password\"\n                className=\"block mb-2 text-sm font-medium text-white dark:text-white\"\n              >\n                Confirm password\n              </label>\n              <input\n                type=\"password\"\n                name=\"confirm-password\"\n                id=\"confirm-password\"\n                placeholder=\"••••••••\"\n                className=\"bg-gray-50 border border-gray-300 text-black sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                required=\"\"\n                value={confirmPassword}\n                onChange={(e) => {\n                  setConfirmPassword(e.target.value);\n                }}\n              />\n              {passwordConfirmed ? (\n            <div style={{display: 'none'}}></div>\n        ) : (\n            <div className=\"text-red-900\">The confirmed password and the new password must be the same</div>\n        )}\n            </div>\n            <div className=\"flex items-start\">\n              <div className=\"flex items-center h-5\">\n                <input\n                  id=\"newsletter\"\n                  aria-describedby=\"newsletter\"\n                  type=\"checkbox\"\n                  className=\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800\"\n                  required=\"\"\n                />\n              </div>\n              <div className=\"ml-3 text-sm\">\n                <label\n                  for=\"newsletter\"\n                  className=\"font-light text-white dark:text-gray-300\"\n                >\n                  I accept the{\" \"}\n                  <a\n                    className=\"font-medium text-[#7869e6] hover:underline dark:text-primary-500\"\n                    href=\"#\"\n                  >\n                    Terms and Conditions\n                  </a>\n                </label>\n              </div>\n            </div>\n            <button\n              className=\"w-full text-white bg-[#7869e6] transition duration-300 hover:bg-[#604fe7] active:bg-[#4635ca] focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\"\n              onClick={onChangePasswordPress}\n            >\n              Reset passwod\n            </button>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default UpdatePassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}