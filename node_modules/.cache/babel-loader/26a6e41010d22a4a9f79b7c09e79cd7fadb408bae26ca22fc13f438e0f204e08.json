{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useReducer,useState,useRef}from\"react\";import{auth,db}from\"../config/firebase\";import{Link,useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";// import { collection, updateDoc, getDoc, doc } from \"firebase/firestore\";\nimport Modal from\"react-modal\";import Folder from\"./profile/Folder\";import{useContext}from\"react\";import{AuthContext}from\"../context/AuthContext\";import\"../assets/styles/home/home.css\";import\"../assets/styles/home/global.css\";import NewsHomePage from\"../components/News Scraper/NewsHomePage\";import Toolitem from\"../components/Tools/Toolitem\";import YouMightLikeApp from\"../components/home components/Filtering-container/YouMightLikeApp\";import AppOfTheDay from\"../components/home components/Filtering-container/AppOfTheDay\";import\"../assets/styles/search-container/search-container.css\";import{NewsContext}from\"../context/NewsContext\";import{ModalcustomStyles}from\"./Profile\";import axios from\"axios\";import NewsLetterSubscribe from\"../components/home components/NewsLetterSubscribe\";import{CategoriesData}from\"../dataJson/CategoriesData\";import{useRecoilValue}from\"recoil\";import{allToolsAtom}from\"../recoil/tool\";import{homeToolsAtom}from\"../recoil/homePageTools\";import{BASE_URL}from\"../config/mongo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _currentUserData$inte,_currentUserData$fold,_currentUserData$fold2;var allTools=useRecoilValue(allToolsAtom);var limitedTools=useRecoilValue(homeToolsAtom);//CONTEXT\nvar _useContext=useContext(AuthContext),currentUser=_useContext.currentUser,currentUserData=_useContext.currentUserData,updateUserData=_useContext.updateUserData;var _useContext2=useContext(NewsContext),DataAPI=_useContext2.DataAPI,MongoDBData=_useContext2.MongoDBData;//RECOIL\n// const allToolsLoadable = useRecoilValueLoadable(allToolsAtom);\n// const allTools = allToolsLoadable.contents;\n//to force Re-render\nvar _useReducer=useReducer(function(x){return x+1;},0),_useReducer2=_slicedToArray(_useReducer,2),reducerValue=_useReducer2[0],forceRender=_useReducer2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),allToolsLoadable=_useState2[0],setAllToolsLoadable=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),ToolToFolder=_useState4[0],setToolToFolder=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),ToolToFolderIndex=_useState6[0],setToolToFolderIndex=_useState6[1];var _useState7=useState(30),_useState8=_slicedToArray(_useState7,2),toolsNumber=_useState8[0],setToolsNumber=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),topic=_useState10[0],setTopic=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isTopicChosen=_useState12[0],setIsTopicChosen=_useState12[1];// Handle Screen Sizing\nvar _useState13=useState(window.innerWidth),_useState14=_slicedToArray(_useState13,2),screenWidth=_useState14[0],setScreenWidth=_useState14[1];useEffect(function(){var handleResize=function handleResize(){setScreenWidth(window.innerWidth);};// Attach the event listener on component mount\nwindow.addEventListener(\"resize\",handleResize);// Clean up the event listener on component unmount\nreturn function(){window.removeEventListener(\"resize\",handleResize);};},[]);// The empty dependency array ensures the effect runs only once on mount\nuseEffect(function(){setAllToolsLoadable(false);// LoadFolders();\n// getLimitedTools();\nif(limitedTools)setAllToolsLoadable(true);},[]);//LOADING\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setLoading=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),authUser=_useState18[0],setAuthUser=_useState18[1];//USERS FOLDERS\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),UserFolders=_useState20[0],setUserFolders=_useState20[1];//To store the searched value\nvar _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),Search=_useState22[0],setSearch=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),AppOfTheDayData=_useState24[0],setAppOfTheDayData=_useState24[1];//to keep track either if the user is searching or not\nvar _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isSearching=_useState26[0],setIsSearching=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isFiltering=_useState28[0],setIsFiltering=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),isHovered=_useState30[0],setIsHovered=_useState30[1];//To store the results of the research\nvar _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),SearchedTool=_useState32[0],setSearchedTool=_useState32[1];//storing the pricing choice\nvar _useState33=useState(\"all\"),_useState34=_slicedToArray(_useState33,2),Pricing=_useState34[0],setPricing=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),resultFilter=_useState36[0],setResultFilter=_useState36[1];var _useState37=useState(\"all categories\"),_useState38=_slicedToArray(_useState37,2),category=_useState38[0],setCategory=_useState38[1];var navigate=useNavigate();//Pop up Welcome Notification\nvar notify=function notify(message){return toast(message,{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"dark\"});};//Searching for tools by name (fulltext search)\n//this is firebase\n// const SearchTool = async () => {\n//   const SearchedTools = [];\n//   const q = query(collection(db, \"Tools\"), where(\"Name\", \"==\", Search));\n//   const querySnapshot = await getDocs(q);\n//   querySnapshot.forEach((doc) => {\n//     SearchedTools.push(doc.data());\n//   });\n//   setSearchedTool(SearchedTools);\n//   console.log(SearchedTool);\n// };\n//keeping track on what's the user is searching for\nuseEffect(function(){if(Search.length>0){setIsSearching(true);// SearchTool();\n}else{setIsSearching(false);setSearchedTool([]);}},[Search]);// useEffect(()=>{alert(ToolToFolder)},[ToolToFolder])\n//HANDLE ADDING A TOOL TO A FOLDER START FIREBASE\n// const handleAddToFolder = () => {\n//   const usersRef = collection(db, \"Users\");\n//   const userDocRef = doc(usersRef, currentUser?.uid);\n//   // Get the current user document\n//   getDoc(userDocRef)\n//     .then((doc) => {\n//       if (doc.exists()) {\n//         const userData = doc.data();\n//         let folders = userData.folders;\n//         if (!folders) {\n//           // Initialize the folders array if it doesn't exist\n//           folders = [];\n//         }\n//         // Update the specific folder's tools array\n//         if (\n//           folders[ToolToFolderIndex] &&\n//           Array.isArray(folders[ToolToFolderIndex].tools)\n//         ) {\n//           folders[ToolToFolderIndex].tools.push(ToolToFolder);\n//         } else {\n//           // Initialize the tools array for the specific folder if it doesn't exist\n//           folders[ToolToFolderIndex].tools = [ToolToFolder];\n//         }\n//         // Update the user document with the modified folders array\n//         updateDoc(userDocRef, { folders })\n//           .then(() => {\n//             console.log(\"Tool added to folder!\");\n//           })\n//           .catch((error) => {\n//             console.log(\"Error updating folder:\", error);\n//           });\n//       }\n//     })\n//     .catch((error) => {\n//       console.log(\"Error getting user document:\", error);\n//     });\n//   closeModal();\n//   forceRender();\n// };\n//HANDLE ADDING A TOOL TO A FOLDER END\n//HANDLE ADD TOOL TO FOLDER MONGODB START\nvar handleAddToolToFolder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(index){var uid,requestBody,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;uid=currentUser.uid;requestBody={uid:uid,index:index,toolId:ToolToFolder};_context.next=5;return axios.post(\"\".concat(BASE_URL,\"/addToolToFolder\"),requestBody);case 5:response=_context.sent;console.log(response.data);// Newly added tool object\nupdateUserData();// Handle any additional logic or UI updates upon successful response\ncloseModal();_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(_context.t0);// Handle error cases and display error messages to the user\ncase 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function handleAddToolToFolder(_x){return _ref.apply(this,arguments);};}();//HANDLE ADD TOOL TO FOLDER MONGODB END\n// handling  by price\nvar handleFilter=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var SearchedTools,toolsWithMatchingPrice,_toolsWithMatchingPrice,_toolsWithMatchingPrice2,_toolsWithMatchingPrice3;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:SearchedTools=[];//this is firebase\n// const q = query(collection(db, \"Tools\"), where(\"Price\", \"==\", Pricing));\n// const querySnapshot = await getDocs(q);\n// querySnapshot.forEach((doc) => {\n//   SearchedTools.push(doc.data());\n// });\n//this is mongo\n// const response = await axios.get(`${BASE_URL}/mongo-tools`);\nif(Pricing===\"all\"&&category===\"all categories\"){toolsWithMatchingPrice=allTools;setSearchedTool(SearchedTools.concat(allTools));if(toolsWithMatchingPrice.length===0)setResultFilter(\"There is no tool in '\".concat(category,\"'\"));else setResultFilter(\"\");}else if(category===\"all categories\"){_toolsWithMatchingPrice=allTools===null||allTools===void 0?void 0:allTools.filter(function(tool){return tool.Price===Pricing;});setSearchedTool(SearchedTools.concat(_toolsWithMatchingPrice));if(_toolsWithMatchingPrice.length===0)setResultFilter(\"There is no tool in '\".concat(category,\"' that is '\").concat(Pricing,\"'\"));else setResultFilter(\"\");}else if(Pricing===\"all\"){_toolsWithMatchingPrice2=allTools===null||allTools===void 0?void 0:allTools.filter(function(tool){return tool.Category===category;});setSearchedTool(SearchedTools.concat(_toolsWithMatchingPrice2));if(_toolsWithMatchingPrice2.length===0)setResultFilter(\"There is no tool in '\".concat(category,\"'\"));else setResultFilter(\"\");}else{_toolsWithMatchingPrice3=allTools===null||allTools===void 0?void 0:allTools.filter(function(tool){return tool.Price===Pricing&&tool.Category===category;});setSearchedTool(SearchedTools.concat(_toolsWithMatchingPrice3));if(_toolsWithMatchingPrice3.length===0)setResultFilter(\"There is no tool in '\".concat(category,\"' that is '\").concat(Pricing,\"'\"));else setResultFilter(\"\");}console.log(typeof SearchedTool);console.log(typeof SearchedTools);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function handleFilter(){return _ref2.apply(this,arguments);};}();// useEffect(() => {\n//   LoadFolders();\n// }, [UserFolders]);\n//APP OF THE DAY\nuseEffect(function(){if(Array.isArray(allTools)){var topTool=allTools.filter(function(tool){var _tool$LikedBy;return((_tool$LikedBy=tool.LikedBy)===null||_tool$LikedBy===void 0?void 0:_tool$LikedBy.length)>=1;}).reduce(function(maxTool,tool){var _maxTool$LikedBy,_tool$LikedBy2;return((_maxTool$LikedBy=maxTool.LikedBy)===null||_maxTool$LikedBy===void 0?void 0:_maxTool$LikedBy.length)>((_tool$LikedBy2=tool.LikedBy)===null||_tool$LikedBy2===void 0?void 0:_tool$LikedBy2.length)?maxTool:tool;},{});setAppOfTheDayData(topTool);}},[allTools]);useEffect(function(){handleFilter();},[Pricing]);useEffect(function(){handleFilter();},[category]);//search bar suggestions\nvar _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),isSuggestionsVisible=_useState40[0],setisSuggestionsVisible=_useState40[1];//input value\nvar _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),value=_useState42[0],setValue=_useState42[1];var inputRef=useRef(null);var _useState43=useState(\"\"),_useState44=_slicedToArray(_useState43,2),selectedTopic=_useState44[0],setSelectedTopic=_useState44[1];var _onChange=function onChange(event){var inputValue=event.target.value;setValue(inputValue);if(value===null){setisSuggestionsVisible(false);setIsSearching(false);}else setisSuggestionsVisible(true);};var _useState45=useState(-1),_useState46=_slicedToArray(_useState45,2),selectedSuggestion=_useState46[0],setSelectedSuggestion=_useState46[1];var suggestionContainerRef=useRef(null);var filteredSuggestions=allTools.filter(function(tool){var _tool$Name;var searchTerm=value.toLowerCase();var name=tool===null||tool===void 0?void 0:(_tool$Name=tool.Name)===null||_tool$Name===void 0?void 0:_tool$Name.toLowerCase();return searchTerm&&(name===null||name===void 0?void 0:name.startsWith(searchTerm));});//Modal Styles\nModal.setAppElement(\"#root\");var subtitle;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalIsOpen=_React$useState2[0],setIsOpen=_React$useState2[1];function openModal(){setIsOpen(true);}function closeModal(){setIsOpen(false);}var handleKeyDown=function handleKeyDown(event){event.preventDefault();if(event.key===\"ArrowDown\"){setSelectedSuggestion(function(prev){return prev===filteredSuggestions.length-1?0:prev+1;});}else if(event.key===\"ArrowUp\"){setSelectedSuggestion(function(prev){return prev===0?filteredSuggestions.length-1:prev-1;});}else if(event.key===\"Enter\"){setIsSearching(true);if(selectedSuggestion>=0&&selectedSuggestion<filteredSuggestions.length){var selectedTool=filteredSuggestions[selectedSuggestion];window.location.href=\"/tooldetails/\".concat(selectedTool._id,\"/\",\"0\");// navigate(`/tooldetails/${selectedTool._id}`);\n}}};useEffect(function(){if(isSuggestionsVisible&&value!==\"\"){window.addEventListener(\"keydown\",handleKeyDown);return function(){window.removeEventListener(\"keydown\",handleKeyDown);};}},[selectedSuggestion]);var chooseTopic=function chooseTopic(topic){setTopic(topic);setIsTopicChosen(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"homeContainer mt-desktop-30 mt-mobile-12 mt-tablet-8 mt-widescreen-20 layoutContainer ml-20\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"layoutMain xl:mt-15 lg:mt-15 ml:mt-15 sm:mt-12 mb-5\",onMouseLeave:function onMouseLeave(){return setisSuggestionsVisible(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex direction-column mb-20 mt-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex direction-column align-items-center mb-20 mt-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-column  max-w-[560px]  my-4 mx-4  md:mb-[2rem] rounded-xl mb-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white flex flex-column align-items-center poppins xl:text-[25px] lg:text-[23px] md:text-[22px] sm:text-[18px] text-[18px] fontWeight-700 ml-1000 mt-50 \".concat(screenWidth<768?'ml-20 fontWeight-400':''),children:/*#__PURE__*/_jsx(\"div\",{children:\"Your job done, with the latest tool\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap logo-search-container \".concat(screenWidth<768?'':'justify-center'),children:/*#__PURE__*/_jsx(\"div\",{className:\"fontWeight-300 poppins text-[#F5F5F7] xl:text-[20px] lg:text-[18px] md:text-[16px] sm:text-[14px] text-[14px] w-[290px] opacity-[.9] whitespace-nowrap mr-80 mt-10 \".concat(screenWidth<768?'fontWeight-80 ml-20 ':''),children:\"We curate, test and review tools before recommending them to you\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full max-w-[4000px] ml-1000 py-4 px-300 mt-5\".concat(screenWidth<768?'max-w-[1500px] ml-10 ':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"absolute w-5 h-5 pointer text-gray-500 dark:text-gray-400 left-3\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"voice-search\",className:\"black h-16 w-full pl-14 pr-10 border border-gray-300 rounded-full text-black focus:outline-none focus:ring-blue-500 focus:border-blue-500 \".concat(screenWidth<768?'h-12':''),placeholder:\"Type Keyword...\",value:value,onChange:function onChange(e){_onChange(e);setIsSearching(false);},disabled:allTools!==null?false:true,ref:inputRef,required:true,autoComplete:\"off\",onKeyDown:function onKeyDown(e){if(e.keyCode===13){e.preventDefault();setIsSearching(true);setisSuggestionsVisible(false);}}}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-0 right-0 h-full px-4 py-2 bg-orange-600 text-white rounded-full hover:bg-orange-500 bg-opacity-75\",onClick:function onClick(){setIsSearching(true);setisSuggestionsVisible(false);},children:\"search\"})]})}),isSuggestionsVisible&&value!==\"\"&&/*#__PURE__*/_jsx(\"div\",{ref:suggestionContainerRef,className:\"bg-white p-4 rounded-lg shadow-md \",onMouseLeave:function onMouseLeave(){setSelectedSuggestion(-1);inputRef.current.focus();},children:/*#__PURE__*/_jsx(\"ul\",{children:allTools===null||allTools===void 0?void 0:allTools.filter(function(tool){var _tool$Name2;var searchTerm=value.toLowerCase();var name=tool===null||tool===void 0?void 0:(_tool$Name2=tool.Name)===null||_tool$Name2===void 0?void 0:_tool$Name2.toLowerCase();return searchTerm&&(name===null||name===void 0?void 0:name.startsWith(searchTerm));}).slice(0,10).map(function(tool,index){return/*#__PURE__*/_jsx(Link,{to:\"/tooldetails/\".concat(tool._id,\"/\",\"0\"),className:\"hover:text-black font-bold\",children:/*#__PURE__*/_jsx(\"li\",{className:\"flex items-center space-x-4 py-2 hover:bg-gray-100 hover:cursor-pointer  pl-6 \".concat(index===selectedSuggestion?\"bg-blue-100\":\"\"),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:tool===null||tool===void 0?void 0:tool.Name},tool._id)})})},tool._id);})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex direction-column align-items-center justify-center text-center \",children:[isSearching&&value!==\"\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"mb-8\",children:[\"Search results for : \",value,\" \"]}),allTools===null||allTools===void 0?void 0:allTools.filter(function(tool){// const lowercasedKeywords = tool.Keywords.toLowerCase();\n// const lowercasedValues = value.toLowerCase().split(' '); // Split input value into an array of words\n// return lowercasedValues.some((word) => lowercasedKeywords.includes(word)); // Check if any word matches a tool keyword\nvar lowercasedKeywords=tool.Keywords.toLowerCase();var lowercasedValues=value.toLowerCase();return lowercasedKeywords.includes(lowercasedValues);}).slice(0,10).map(function(tool){return/*#__PURE__*/_jsx(Toolitem,{toolData:tool,forceRender:forceRender,homeTool:false},tool._id);}),allTools&&allTools.length>0&&allTools.filter(function(tool){return tool.Keywords.toLowerCase().includes(value.toLowerCase());}).length===0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Nothing found for \",value,\".\"]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-20 border-white\"})]}):null,/*#__PURE__*/_jsx(\"div\",{style:!isFiltering?{display:\"block\"}:{display:\"none\"}}),!isFiltering?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/ // {/* End Filtering container */}\n_jsxs(\"div\",{\"data-test\":\"homepage-section-0\",className:\"flex flex-column align-items-center\",style:{diplay:\"block\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:resultFilter}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:SearchedTool.map(function(tool,index){return/*#__PURE__*/_jsx(Toolitem,{toolData:tool,forceRender:forceRender,homeTool:false},tool._id);})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex direction-column align-items-center mt-[6vh] \",children:auth.currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"you-might-like-apps-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fontWeight-500 text-[#15C988] mb-4 text-[11px]\",children:\"YOU MIGHT ALSO LIKE\"}),(currentUserData===null||currentUserData===void 0?void 0:(_currentUserData$inte=currentUserData.interests)===null||_currentUserData$inte===void 0?void 0:_currentUserData$inte.length)===0?/*#__PURE__*/_jsxs(\"div\",{children:[\"Add your\",\" \",/*#__PURE__*/_jsxs(\"u\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"interests\"})]}),\" \",\"to discover personalized tool suggestions.\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col sm:flex-row\",style:{display:\"flex\"},children:/*#__PURE__*/_jsx(YouMightLikeApp,{})})]}):// <p className=\"text[#FFFFFF] fw-500 ml-[90px] mb-[3rem]\">\n//   <Link to={\"/signup\"}>\n//     {\" \"}\n//     <u>Sign up</u>\n//   </Link>\n//   &nbsp;to save tools, share lists and get personalised\n//   recommendations.\n// </p>\nnull}),!isFiltering&&/*#__PURE__*/_jsx(\"div\",{className:\"container xxl:w-[1300px] xl:w-[1050px] max-w-full py-4 mb-6 border-b-[.2px] border-none align-items-center justify-center text-center ml-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:screenWidth>1100?\"flex flex-row ml-[12%] gap-[6%]\":\"flex flex-row ml-0 gap-[6%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(selectedTopic===\"\"&&!isTopicChosen?\"text-white font-semibold poppins cursor-pointer bg-[#DD5434] text-[#DD5434] px-4 py-2 rounded-full\":\"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent text-[#DD5434] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\",\" \"),onClick:function onClick(){setIsTopicChosen(false);setTopic(\"\");setSelectedTopic(\"\");},children:\"Popular\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(selectedTopic===\"Marketing Automation\"?\"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\":\"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\",\" \"),onClick:function onClick(){chooseTopic(\"Marketing Automation\");setSelectedTopic(\"Marketing Automation\");},children:\"Automation\"}),screenWidth>=700&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(selectedTopic===\"No-code\"?\"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\":\"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\",\" \"),onClick:function onClick(){chooseTopic(\"No-code\");setSelectedTopic(\"No-code\");},children:\"No Code\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(selectedTopic===\"Artificial Intelligence and Machine Learning\"?\"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\":\"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\",\" \"),onClick:function onClick(){chooseTopic(\"Artificial Intelligence and Machine Learning\");setSelectedTopic(\"Artificial Intelligence and Machine Learning\");},children:\"AI\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(selectedTopic===\"Productivity tools\"?\"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\":\"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\",\" \"),onClick:function onClick(){chooseTopic(\"Productivity tools\");setSelectedTopic(\"Productivity tools\");},children:\"Productivity\"}),screenWidth>=810&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(selectedTopic===\"Graphic Design\"?\"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\":\"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\",\" \"),onClick:function onClick(){chooseTopic(\"Graphic Design\");setSelectedTopic(\"Graphic Design\");},children:\"Design\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:!isFiltering?{display:\"block\",transition:\"transform ease-out .5s, opacity ease-out .5s\",transform:\"scale(1)\",opacity:1}:{display:\"block\",transition:\"transform ease-in .5s, opacity ease-in .5s\",transform:\"scale(1)\",opacity:1},className:\"transform opacity-0 scale-105 opacity-100 scale-100 transition-opacity duration-500 ease-in-out flex flex-column align-items-center\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-column align-items-center\",children:isTopicChosen&&(allTools===null||allTools===void 0?void 0:allTools.map(function(tool,index){if((tool===null||tool===void 0?void 0:tool.Category)===topic){return/*#__PURE__*/_jsx(Toolitem,{toolData:tool,forceRender:forceRender,setToolToFolder:setToolToFolder,setIsOpen:setIsOpen,homeTool:false},tool._id);}}))}),/*#__PURE__*/_jsx(\"div\",{\"data-test\":\"homepage-section-0\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-column align-items-center\",children:!isFiltering&&topic===\"\"?/*#__PURE__*/_jsxs(\"div\",{className:\"tools-section-ngu\",children:[currentUser?/*#__PURE__*/_jsx(AppOfTheDay,{tool:AppOfTheDayData}):/*#__PURE__*/_jsx(\"div\",{children:\" \"}),!limitedTools?/*#__PURE__*/_jsx(\"h1\",{className:\"text-white\",children:\"Loading...\"}):Array.isArray(allTools)&&limitedTools.map(function(tool,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Toolitem,{toolData:tool,forceRender:forceRender,homeTool:true})},index);})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:\"none\"}})})})})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,style:ModalcustomStyles,contentLabel:\"Example Modal\",children:!currentUser?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/signup\",children:[/*#__PURE__*/_jsx(\"u\",{children:\"Sign up\"}),\" to personalize your folders\"]})}):/*#__PURE__*/_jsx(\"div\",{children:(currentUserData===null||currentUserData===void 0?void 0:(_currentUserData$fold=currentUserData.folders)===null||_currentUserData$fold===void 0?void 0:_currentUserData$fold.length)===0?/*#__PURE__*/_jsx(Link,{to:\"/folders\",children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"u\",{children:\"Create\"}),\" folders for easy organization.\"]})}):/*#__PURE__*/_jsx(\"div\",{className:\"space-x-4 grid grid-cols-3 gap-4\",children:currentUserData===null||currentUserData===void 0?void 0:(_currentUserData$fold2=currentUserData.folders)===null||_currentUserData$fold2===void 0?void 0:_currentUserData$fold2.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer\",onClick:function onClick(){return handleAddToolToFolder(index);},children:/*#__PURE__*/_jsx(Folder,{isRowsView:false,item:item},index)},index);})})})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-black text-white py-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-column justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"flex flex-row lg:gap-[64px] gap-3 mb-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Follow us\"}),/*#__PURE__*/_jsx(\"li\",{className:\"tracking-wider hover:tracking-widest\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.tiktok.com/@tech.bible\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-tiktok text-white text-xl\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"tracking-wider hover:tracking-widest\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://youtube.com/@MyTechBible\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-youtube text-white text-xl\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"tracking-wider hover:tracking-widest\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/techbible.ai/\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-instagram text-white text-xl\"})})})]}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.mytechbible.com/\",target:\"_blank\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-[14px] font-semibold mb-4\",children:[\"Made by\",\" \",/*#__PURE__*/_jsx(\"div\",{className:\"text-[#EF4823] inline-block\",children:\"Techbible Studio\"})]})})]})})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useReducer","useState","useRef","auth","db","Link","useNavigate","ToastContainer","toast","Modal","Folder","useContext","AuthContext","NewsHomePage","Toolitem","YouMightLikeApp","AppOfTheDay","NewsContext","ModalcustomStyles","axios","NewsLetterSubscribe","CategoriesData","useRecoilValue","allToolsAtom","homeToolsAtom","BASE_URL","jsx","_jsx","jsxs","_jsxs","Home","_currentUserData$inte","_currentUserData$fold","_currentUserData$fold2","allTools","limitedTools","_useContext","currentUser","currentUserData","updateUserData","_useContext2","DataAPI","MongoDBData","_useReducer","x","_useReducer2","_slicedToArray","reducerValue","forceRender","_useState","_useState2","allToolsLoadable","setAllToolsLoadable","_useState3","_useState4","ToolToFolder","setToolToFolder","_useState5","_useState6","ToolToFolderIndex","setToolToFolderIndex","_useState7","_useState8","toolsNumber","setToolsNumber","_useState9","_useState10","topic","setTopic","_useState11","_useState12","isTopicChosen","setIsTopicChosen","_useState13","window","innerWidth","_useState14","screenWidth","setScreenWidth","handleResize","addEventListener","removeEventListener","_useState15","_useState16","isLoading","setLoading","_useState17","_useState18","authUser","setAuthUser","_useState19","_useState20","UserFolders","setUserFolders","_useState21","_useState22","Search","setSearch","_useState23","_useState24","AppOfTheDayData","setAppOfTheDayData","_useState25","_useState26","isSearching","setIsSearching","_useState27","_useState28","isFiltering","setIsFiltering","_useState29","_useState30","isHovered","setIsHovered","_useState31","_useState32","SearchedTool","setSearchedTool","_useState33","_useState34","Pricing","setPricing","_useState35","_useState36","resultFilter","setResultFilter","_useState37","_useState38","category","setCategory","navigate","notify","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","length","handleAddToolToFolder","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","index","uid","requestBody","response","wrap","_callee$","_context","prev","next","toolId","post","concat","sent","console","log","data","closeModal","t0","error","stop","_x","apply","arguments","handleFilter","_ref2","_callee2","SearchedTools","toolsWithMatchingPrice","_toolsWithMatchingPrice","_toolsWithMatchingPrice2","_toolsWithMatchingPrice3","_callee2$","_context2","filter","tool","Price","Category","Array","isArray","topTool","_tool$LikedBy","LikedBy","reduce","maxTool","_maxTool$LikedBy","_tool$LikedBy2","_useState39","_useState40","isSuggestionsVisible","setisSuggestionsVisible","_useState41","_useState42","value","setValue","inputRef","_useState43","_useState44","selectedTopic","setSelectedTopic","onChange","event","inputValue","target","_useState45","_useState46","selectedSuggestion","setSelectedSuggestion","suggestionContainerRef","filteredSuggestions","_tool$Name","searchTerm","toLowerCase","name","Name","startsWith","setAppElement","subtitle","_React$useState","_React$useState2","modalIsOpen","setIsOpen","openModal","handleKeyDown","preventDefault","key","selectedTool","location","href","_id","chooseTopic","children","className","onMouseLeave","fill","viewBox","xmlns","fillRule","d","clipRule","type","id","placeholder","e","disabled","ref","required","autoComplete","onKeyDown","keyCode","onClick","current","focus","_tool$Name2","slice","map","to","lowercasedKeywords","Keywords","lowercasedValues","includes","toolData","homeTool","style","display","diplay","interests","transition","transform","opacity","isOpen","onRequestClose","contentLabel","folders","item","isRowsView","rel"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/views/Home.jsx"],"sourcesContent":["import React, { useEffect, useReducer, useState, useRef } from \"react\";\nimport { auth, db } from \"../config/firebase\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import { collection, updateDoc, getDoc, doc } from \"firebase/firestore\";\nimport Modal from \"react-modal\";\nimport Folder from \"./profile/Folder\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport \"../assets/styles/home/home.css\";\nimport \"../assets/styles/home/global.css\";\nimport NewsHomePage from \"../components/News Scraper/NewsHomePage\";\nimport Toolitem from \"../components/Tools/Toolitem\";\nimport YouMightLikeApp from \"../components/home components/Filtering-container/YouMightLikeApp\";\nimport AppOfTheDay from \"../components/home components/Filtering-container/AppOfTheDay\";\nimport \"../assets/styles/search-container/search-container.css\";\nimport { NewsContext } from \"../context/NewsContext\";\nimport { ModalcustomStyles } from \"./Profile\";\nimport axios from \"axios\";\nimport NewsLetterSubscribe from \"../components/home components/NewsLetterSubscribe\";\nimport { CategoriesData } from \"../dataJson/CategoriesData\";\nimport { useRecoilValue } from \"recoil\";\nimport { allToolsAtom } from \"../recoil/tool\";\nimport { homeToolsAtom } from \"../recoil/homePageTools\";\nimport { BASE_URL } from \"../config/mongo\";\n\nconst Home = () => {\n  const allTools = useRecoilValue(allToolsAtom);\n\n  const limitedTools = useRecoilValue(homeToolsAtom);\n  //CONTEXT\n  const { currentUser, currentUserData, updateUserData } =\n    useContext(AuthContext);\n  const { DataAPI, MongoDBData } = useContext(NewsContext);\n\n  //RECOIL\n  // const allToolsLoadable = useRecoilValueLoadable(allToolsAtom);\n  // const allTools = allToolsLoadable.contents;\n\n  //to force Re-render\n  const [reducerValue, forceRender] = useReducer((x) => x + 1, 0);\n  const [allToolsLoadable, setAllToolsLoadable] = useState(false);\n\n  const [ToolToFolder, setToolToFolder] = useState(\"\");\n  const [ToolToFolderIndex, setToolToFolderIndex] = useState();\n  const [toolsNumber, setToolsNumber] = useState(30);\n  const [topic, setTopic] = useState(\"\");\n  const [isTopicChosen, setIsTopicChosen] = useState(false);\n\n  // Handle Screen Sizing\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setScreenWidth(window.innerWidth);\n    };\n\n    // Attach the event listener on component mount\n    window.addEventListener(\"resize\", handleResize);\n\n    // Clean up the event listener on component unmount\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []); // The empty dependency array ensures the effect runs only once on mount\n\n  useEffect(() => {\n    setAllToolsLoadable(false);\n    // LoadFolders();\n    // getLimitedTools();\n    if (limitedTools) setAllToolsLoadable(true);\n  }, []);\n\n  //LOADING\n  const [isLoading, setLoading] = useState(false);\n\n  const [authUser, setAuthUser] = useState(null);\n  //USERS FOLDERS\n  const [UserFolders, setUserFolders] = useState([]);\n\n  //To store the searched value\n  const [Search, setSearch] = useState(\"\");\n  const [AppOfTheDayData, setAppOfTheDayData] = useState();\n\n  //to keep track either if the user is searching or not\n  const [isSearching, setIsSearching] = useState(false);\n  const [isFiltering, setIsFiltering] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n\n  //To store the results of the research\n  const [SearchedTool, setSearchedTool] = useState([]);\n\n  //storing the pricing choice\n  const [Pricing, setPricing] = useState(\"all\");\n  const [resultFilter, setResultFilter] = useState(\"\");\n  const [category, setCategory] = useState(\"all categories\");\n\n  const navigate = useNavigate();\n\n  //Pop up Welcome Notification\n  const notify = (message) =>\n    toast(message, {\n      position: \"top-center\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: \"dark\",\n    });\n\n  //Searching for tools by name (fulltext search)\n  //this is firebase\n  // const SearchTool = async () => {\n  //   const SearchedTools = [];\n  //   const q = query(collection(db, \"Tools\"), where(\"Name\", \"==\", Search));\n  //   const querySnapshot = await getDocs(q);\n  //   querySnapshot.forEach((doc) => {\n  //     SearchedTools.push(doc.data());\n  //   });\n  //   setSearchedTool(SearchedTools);\n  //   console.log(SearchedTool);\n  // };\n\n  //keeping track on what's the user is searching for\n  useEffect(() => {\n    if (Search.length > 0) {\n      setIsSearching(true);\n      // SearchTool();\n    } else {\n      setIsSearching(false);\n      setSearchedTool([]);\n    }\n  }, [Search]);\n\n  // useEffect(()=>{alert(ToolToFolder)},[ToolToFolder])\n\n  //HANDLE ADDING A TOOL TO A FOLDER START FIREBASE\n  // const handleAddToFolder = () => {\n  //   const usersRef = collection(db, \"Users\");\n  //   const userDocRef = doc(usersRef, currentUser?.uid);\n\n  //   // Get the current user document\n  //   getDoc(userDocRef)\n  //     .then((doc) => {\n  //       if (doc.exists()) {\n  //         const userData = doc.data();\n  //         let folders = userData.folders;\n\n  //         if (!folders) {\n  //           // Initialize the folders array if it doesn't exist\n  //           folders = [];\n  //         }\n\n  //         // Update the specific folder's tools array\n  //         if (\n  //           folders[ToolToFolderIndex] &&\n  //           Array.isArray(folders[ToolToFolderIndex].tools)\n  //         ) {\n  //           folders[ToolToFolderIndex].tools.push(ToolToFolder);\n  //         } else {\n  //           // Initialize the tools array for the specific folder if it doesn't exist\n  //           folders[ToolToFolderIndex].tools = [ToolToFolder];\n  //         }\n\n  //         // Update the user document with the modified folders array\n  //         updateDoc(userDocRef, { folders })\n  //           .then(() => {\n  //             console.log(\"Tool added to folder!\");\n  //           })\n  //           .catch((error) => {\n  //             console.log(\"Error updating folder:\", error);\n  //           });\n  //       }\n  //     })\n  //     .catch((error) => {\n  //       console.log(\"Error getting user document:\", error);\n  //     });\n\n  //   closeModal();\n  //   forceRender();\n  // };\n  //HANDLE ADDING A TOOL TO A FOLDER END\n\n  //HANDLE ADD TOOL TO FOLDER MONGODB START\n  const handleAddToolToFolder = async (index) => {\n    // alert(index);\n    try {\n      const uid = currentUser.uid;\n      const requestBody = {\n        uid: uid,\n        index: index,\n        toolId: ToolToFolder,\n      };\n\n      const response = await axios.post(\n        `${BASE_URL}/addToolToFolder`,\n        requestBody\n      );\n      console.log(response.data); // Newly added tool object\n      updateUserData();\n      // Handle any additional logic or UI updates upon successful response\n      closeModal();\n    } catch (error) {\n      console.error(error);\n      // Handle error cases and display error messages to the user\n    }\n  };\n  //HANDLE ADD TOOL TO FOLDER MONGODB END\n\n  // handling  by price\n  const handleFilter = async () => {\n    const SearchedTools = [];\n    //this is firebase\n    // const q = query(collection(db, \"Tools\"), where(\"Price\", \"==\", Pricing));\n    // const querySnapshot = await getDocs(q);\n    // querySnapshot.forEach((doc) => {\n    //   SearchedTools.push(doc.data());\n    // });\n\n    //this is mongo\n    // const response = await axios.get(`${BASE_URL}/mongo-tools`);\n\n    if (Pricing === \"all\" && category === \"all categories\") {\n      const toolsWithMatchingPrice = allTools;\n      setSearchedTool(SearchedTools.concat(allTools));\n      if (toolsWithMatchingPrice.length === 0)\n        setResultFilter(`There is no tool in '${category}'`);\n      else setResultFilter(\"\");\n    } else if (category === \"all categories\") {\n      const toolsWithMatchingPrice = allTools?.filter(\n        (tool) => tool.Price === Pricing\n      );\n      setSearchedTool(SearchedTools.concat(toolsWithMatchingPrice));\n      if (toolsWithMatchingPrice.length === 0)\n        setResultFilter(\n          `There is no tool in '${category}' that is '${Pricing}'`\n        );\n      else setResultFilter(\"\");\n    } else if (Pricing === \"all\") {\n      const toolsWithMatchingPrice = allTools?.filter((tool) => {\n        return tool.Category === category;\n      });\n      setSearchedTool(SearchedTools.concat(toolsWithMatchingPrice));\n      if (toolsWithMatchingPrice.length === 0)\n        setResultFilter(`There is no tool in '${category}'`);\n      else setResultFilter(\"\");\n    } else {\n      const toolsWithMatchingPrice = allTools?.filter((tool) => {\n        return tool.Price === Pricing && tool.Category === category;\n      });\n      setSearchedTool(SearchedTools.concat(toolsWithMatchingPrice));\n      if (toolsWithMatchingPrice.length === 0)\n        setResultFilter(\n          `There is no tool in '${category}' that is '${Pricing}'`\n        );\n      else setResultFilter(\"\");\n    }\n    console.log(typeof SearchedTool);\n    console.log(typeof SearchedTools);\n  };\n\n  // useEffect(() => {\n  //   LoadFolders();\n  // }, [UserFolders]);\n\n  //APP OF THE DAY\n  useEffect(() => {\n    if (Array.isArray(allTools)) {\n      const topTool = allTools\n        .filter((tool) => tool.LikedBy?.length >= 1)\n        .reduce(\n          (maxTool, tool) =>\n            maxTool.LikedBy?.length > tool.LikedBy?.length ? maxTool : tool,\n          {}\n        );\n      setAppOfTheDayData(topTool);\n    }\n  }, [allTools]);\n\n  useEffect(() => {\n    handleFilter();\n  }, [Pricing]);\n  useEffect(() => {\n    handleFilter();\n  }, [category]);\n\n  //search bar suggestions\n  const [isSuggestionsVisible, setisSuggestionsVisible] = useState(false);\n\n  //input value\n  const [value, setValue] = useState(\"\");\n  const inputRef = useRef(null);\n  const [selectedTopic, setSelectedTopic] = useState(\"\");\n\n  const onChange = (event) => {\n    const inputValue = event.target.value;\n    setValue(inputValue);\n    if (value === null) {\n      setisSuggestionsVisible(false);\n      setIsSearching(false);\n    } else setisSuggestionsVisible(true);\n  };\n\n  const [selectedSuggestion, setSelectedSuggestion] = useState(-1);\n  const suggestionContainerRef = useRef(null);\n  const filteredSuggestions = allTools.filter((tool) => {\n    const searchTerm = value.toLowerCase();\n    const name = tool?.Name?.toLowerCase();\n    return searchTerm && name?.startsWith(searchTerm);\n  });\n\n  //Modal Styles\n  Modal.setAppElement(\"#root\");\n  let subtitle;\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n\n  function openModal() {\n    setIsOpen(true);\n  }\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  const handleKeyDown = (event) => {\n    event.preventDefault();\n    if (event.key === \"ArrowDown\") {\n      setSelectedSuggestion((prev) =>\n        prev === filteredSuggestions.length - 1 ? 0 : prev + 1\n      );\n    } else if (event.key === \"ArrowUp\") {\n      setSelectedSuggestion((prev) =>\n        prev === 0 ? filteredSuggestions.length - 1 : prev - 1\n      );\n    } else if (event.key === \"Enter\") {\n      setIsSearching(true);\n      if (\n        selectedSuggestion >= 0 &&\n        selectedSuggestion < filteredSuggestions.length\n      ) {\n        const selectedTool = filteredSuggestions[selectedSuggestion];\n        window.location.href = `/tooldetails/${selectedTool._id}/${\"0\"}`;\n        // navigate(`/tooldetails/${selectedTool._id}`);\n      }\n    }\n  };\n  useEffect(() => {\n    if (isSuggestionsVisible && value !== \"\") {\n      window.addEventListener(\"keydown\", handleKeyDown);\n      return () => {\n        window.removeEventListener(\"keydown\", handleKeyDown);\n      };\n    }\n  }, [selectedSuggestion]);\n\n  const chooseTopic = (topic) => {\n    setTopic(topic);\n    setIsTopicChosen(true);\n  };\n\n  return (\n    <div >\n      <div className=\"homeContainer mt-desktop-30 mt-mobile-12 mt-tablet-8 mt-widescreen-20 layoutContainer ml-20\">\n        <main\n          className=\"layoutMain xl:mt-15 lg:mt-15 ml:mt-15 sm:mt-12 mb-5\"\n          onMouseLeave={() => setisSuggestionsVisible(false)}\n        >\n        <div className=\"flex direction-column mb-20 mt-10\">\n\n          <div className=\"flex direction-column align-items-center mb-20 mt-10\">\n              <div className=\"flex flex-column  max-w-[560px]  my-4 mx-4  md:mb-[2rem] rounded-xl mb-20\">\n                <div className={`text-white flex flex-column align-items-center poppins xl:text-[25px] lg:text-[23px] md:text-[22px] sm:text-[18px] text-[18px] fontWeight-700 ml-1000 mt-50 ${screenWidth < 768 ? 'ml-20 fontWeight-400' : ''}`}\n>\n                  <div>\n                   Your job done, with the latest tool\n                  </div>\n                </div>\n                <div className={`flex flex-wrap logo-search-container ${screenWidth < 768 ? '' : 'justify-center'}`}>\n                  <div className={`fontWeight-300 poppins text-[#F5F5F7] xl:text-[20px] lg:text-[18px] md:text-[16px] sm:text-[14px] text-[14px] w-[290px] opacity-[.9] whitespace-nowrap mr-80 mt-10 ${screenWidth < 768 ? 'fontWeight-80 ml-20 ' : ''}`}  >\n                    We curate, test and review tools before recommending them to you\n                  </div>\n                </div>\n                \n\n\n                <div className={`relative w-full max-w-[4000px] ml-1000 py-4 px-300 mt-5${screenWidth < 768 ? 'max-w-[1500px] ml-10 ' : ''}`}>\n                 <div className=\"relative flex items-center\">\n                   <svg\n                    className=\"absolute w-5 h-5 pointer text-gray-500 dark:text-gray-400 left-3\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 20 20\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                   >\n                   <path\n                    fillRule=\"evenodd\"\n                    d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"\n                    clipRule=\"evenodd\"\n                   ></path>\n                   </svg>\n                   <input\n                   type=\"text\"\n                   id=\"voice-search\"\n                   className={`black h-16 w-full pl-14 pr-10 border border-gray-300 rounded-full text-black focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${screenWidth < 768 ? 'h-12' : ''}`}\n                   placeholder=\"Type Keyword...\"\n                   value={value}\n                   onChange={(e) => {\n                   onChange(e);\n                   setIsSearching(false);\n                                     }}\n                   disabled={allTools !== null ? false : true}\n                   ref={inputRef}\n                    required\n                   autoComplete=\"off\"\n                   onKeyDown={(e) => {\n                   if (e.keyCode === 13) {\n                   e.preventDefault();\n                   setIsSearching(true);\n                   setisSuggestionsVisible(false);\n                   }\n                   }}\n                  />\n            <button\n             className=\"absolute top-0 right-0 h-full px-4 py-2 bg-orange-600 text-white rounded-full hover:bg-orange-500 bg-opacity-75\"\n              onClick={() => {\n               setIsSearching(true);\n               setisSuggestionsVisible(false);\n                            }}\n                   >\n                   search\n             </button>\n              </div>\n             </div>\n\n\n                  {/* <div className=\"ml-2\"> */}\n\n                  {/* </div> */}\n                {isSuggestionsVisible && value !== \"\" && (\n                  <div\n                    ref={suggestionContainerRef}\n                    className=\"bg-white p-4 rounded-lg shadow-md \"\n                    onMouseLeave={() => {\n                      setSelectedSuggestion(-1);\n                      inputRef.current.focus();\n                    }}\n                  >\n                    <ul>\n                      {allTools\n                        ?.filter((tool) => {\n                          const searchTerm = value.toLowerCase();\n                          const name = tool?.Name?.toLowerCase();\n                          return searchTerm && name?.startsWith(searchTerm);\n                        })\n                        .slice(0, 10)\n                        .map((tool, index) => (\n                          <Link\n                            to={`/tooldetails/${tool._id}/${\"0\"}`}\n                            className=\"hover:text-black font-bold\"\n                            key={tool._id}\n                          >\n                            <li\n                              className={`flex items-center space-x-4 py-2 hover:bg-gray-100 hover:cursor-pointer  pl-6 ${\n                                index === selectedSuggestion\n                                  ? \"bg-blue-100\"\n                                  : \"\"\n                              }`}\n                            >\n                              <div>\n                                <p className=\"text-gray-500\" key={tool._id}>\n                                  {tool?.Name}\n                                </p>\n                              </div>\n                            </li>\n                          </Link>\n                        ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex direction-column align-items-center justify-center text-center \">\n              {/* keyword filter            */}\n              {isSearching && value !== \"\" ? (\n                <div>\n                  <h1 className=\"mb-8\">Search results for : {value} </h1>\n                  {allTools\n                    ?.filter((tool) => {\n                      // const lowercasedKeywords = tool.Keywords.toLowerCase();\n                      // const lowercasedValues = value.toLowerCase().split(' '); // Split input value into an array of words\n                      // return lowercasedValues.some((word) => lowercasedKeywords.includes(word)); // Check if any word matches a tool keyword\n                      const lowercasedKeywords = tool.Keywords.toLowerCase();\n                      const lowercasedValues = value.toLowerCase();\n\n                      return lowercasedKeywords.includes(lowercasedValues);\n                    })\n                    .slice(0, 10)\n                    .map((tool) => (\n                      <Toolitem\n                        key={tool._id}\n                        toolData={tool}\n                        forceRender={forceRender}\n                        homeTool={false}\n                      />\n                    ))}\n\n                  {allTools &&\n                    allTools.length > 0 &&\n                    allTools.filter((tool) =>\n                      tool.Keywords.toLowerCase().includes(value.toLowerCase())\n                    ).length === 0 && <p>Nothing found for {value}.</p>}\n                  <hr className=\"my-20 border-white\" />\n                </div>\n              ) : null}\n              {/* end keyword filter              */}\n              <div\n                style={\n                  !isFiltering\n                    ? {\n                        display: \"block\",\n                      }\n                    : {\n                        display: \"none\",\n                      }\n                }\n              ></div>\n              {!isFiltering ? (\n                <div></div>\n              ) : (\n                // {/* End Filtering container */}\n                <div\n                  data-test=\"homepage-section-0\"\n                  className=\"flex flex-column align-items-center\"\n                  style={{ diplay: \"block\" }}\n                >\n                  <div className=\"ml-4\">{resultFilter}</div>\n                  <div>\n                    <div>\n                      {SearchedTool.map((tool, index) => (\n                        <Toolitem\n                          key={tool._id}\n                          toolData={tool}\n                          forceRender={forceRender}\n                          homeTool={false}\n                        />\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n            {/************You might also like***********/}\n            <div className=\"flex direction-column align-items-center mt-[6vh] \">\n              {auth.currentUser ? (\n                <div className=\"you-might-like-apps-container\">\n                  {/* <div className=\"you-might-like-apps-container\"> */}\n                  <p className=\"fontWeight-500 text-[#15C988] mb-4 text-[11px]\">\n                    YOU MIGHT ALSO LIKE\n                  </p>\n                  {currentUserData?.interests?.length === 0 ? (\n                    <div>\n                      Add your{\" \"}\n                      <u>\n                        {\" \"}\n                        <Link to={\"/profile\"}>interests</Link>\n                      </u>{\" \"}\n                      to discover personalized tool suggestions.\n                    </div>\n                  ) : (\n                    <div\n                      className=\"flex flex-col sm:flex-row\"\n                      style={{ display: \"flex\" }}\n                    >\n                      <YouMightLikeApp />\n                    </div>\n                  )}\n                </div>\n              ) : // <p className=\"text[#FFFFFF] fw-500 ml-[90px] mb-[3rem]\">\n              //   <Link to={\"/signup\"}>\n              //     {\" \"}\n              //     <u>Sign up</u>\n              //   </Link>\n              //   &nbsp;to save tools, share lists and get personalised\n              //   recommendations.\n              // </p>\n              null}\n            </div>\n            {/* <div className=\"text-white text-[25px]\">{screenWidth}</div> */}\n\n            {/***********END You might also like********/}\n            {!isFiltering && (\n              <div className=\"container xxl:w-[1300px] xl:w-[1050px] max-w-full py-4 mb-6 border-b-[.2px] border-none align-items-center justify-center text-center ml-1\">\n              <div\n                className={\n                  screenWidth > 1100\n                    ? \"flex flex-row ml-[12%] gap-[6%]\"\n                    : \"flex flex-row ml-0 gap-[6%]\"\n                }\n              >\n                <div\n                  className={`${\n                    selectedTopic === \"\" && !isTopicChosen\n                      ? \"text-white font-semibold poppins cursor-pointer bg-[#DD5434] text-[#DD5434] px-4 py-2 rounded-full\"\n                      : \"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent text-[#DD5434] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\"\n                  } `}\n                  onClick={() => {\n                    setIsTopicChosen(false);\n                    setTopic(\"\");\n                    setSelectedTopic(\"\");\n                  }}\n                >\n                  Popular\n                </div>\n            \n                <div\n                  className={`${\n                    selectedTopic === \"Marketing Automation\"\n                      ? \"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\"\n                      : \"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\"\n                  } `}\n                  onClick={() => {\n                    chooseTopic(\"Marketing Automation\");\n                    setSelectedTopic(\"Marketing Automation\");\n                  }}\n                >\n                  Automation\n                </div>\n            \n                {screenWidth >= 700 && (\n                  <div\n                    className={`${\n                      selectedTopic === \"No-code\"\n                        ? \"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\"\n                        : \"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\"\n                    } `}\n                    onClick={() => {\n                      chooseTopic(\"No-code\");\n                      setSelectedTopic(\"No-code\");\n                    }}\n                  >\n                    No Code\n                  </div>\n                )}\n            \n                <div\n                  className={`${\n                    selectedTopic === \"Artificial Intelligence and Machine Learning\"\n                      ? \"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\"\n                      : \"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\"\n                  } `}\n                  onClick={() => {\n                    chooseTopic(\"Artificial Intelligence and Machine Learning\");\n                    setSelectedTopic(\"Artificial Intelligence and Machine Learning\");\n                  }}\n                >\n                  AI\n                </div>\n            \n                <div\n                  className={`${\n                    selectedTopic === \"Productivity tools\"\n                      ? \"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\"\n                      : \"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\"\n                  } `}\n                  onClick={() => {\n                    chooseTopic(\"Productivity tools\");\n                    setSelectedTopic(\"Productivity tools\");\n                  }}\n                >\n                  Productivity\n                </div>\n            \n                {screenWidth >= 810 && (\n                  <div\n                    className={`${\n                      selectedTopic === \"Graphic Design\"\n                        ? \"text-white font-semibold poppins cursor-pointer bg-[#DD5434] px-4 py-2 rounded-full\"\n                        : \"text-[#DD5434] font-semibold poppins cursor-pointer bg-transparent bg-[#DD5434 bg-opacity-10] px-4 py-2 rounded-full hover:bg-[#DD5434] text-white\"\n                    } `}\n                    onClick={() => {\n                      chooseTopic(\"Graphic Design\");\n                      setSelectedTopic(\"Graphic Design\");\n                    }}\n                  >\n                    Design\n                  </div>\n                )}\n              </div>\n            </div>\n            \n            )}\n            {/* <div className=\" xl:w-[1000px] lg:w-[900px] md:w-[900px] sm:w-[800px] w-[300px]\"></div> */}\n            <div\n              style={\n                !isFiltering\n                  ? {\n                      display: \"block\",\n                      transition:\n                        \"transform ease-out .5s, opacity ease-out .5s\",\n                      transform: \"scale(1)\",\n                      opacity: 1,\n                    }\n                  : {\n                      display: \"block\",\n                      transition: \"transform ease-in .5s, opacity ease-in .5s\",\n                      transform: \"scale(1)\",\n                      opacity: 1,\n                    }\n              }\n              className=\"transform opacity-0 scale-105 opacity-100 scale-100 transition-opacity duration-500 ease-in-out flex flex-column align-items-center\"\n            ></div>\n            {/* Choosing Topics */}\n            <div className=\"flex flex-column align-items-center\">\n              {isTopicChosen &&\n                allTools?.map((tool, index) => {\n                  if (tool?.Category === topic) {\n                    return (\n                      <Toolitem\n                        key={tool._id}\n                        toolData={tool}\n                        forceRender={forceRender}\n                        setToolToFolder={setToolToFolder}\n                        setIsOpen={setIsOpen}\n                        homeTool={false}\n                      />\n                    );\n                  }\n                })}\n            </div>\n\n            <div data-test=\"homepage-section-0\">\n              <div>\n                <div className=\"flex flex-column align-items-center\">\n                  {!isFiltering && topic === \"\" ? (\n                    <div className=\"tools-section-ngu\">\n                      {/* <p className=\"medium lg:text-[18px] md:text-[17px] sm:text-[16px] mb-[1rem] \">\n                        Top tools\n                      </p> */}\n                      {currentUser ? (\n                        <AppOfTheDay tool={AppOfTheDayData} />\n                      ) : (\n                        <div> </div>\n                      )}\n                      {!limitedTools ? (\n                        <h1 className=\"text-white\">Loading...</h1>\n                      ) : (\n                        Array.isArray(allTools) &&\n                        limitedTools.map((tool, index) => (\n                          <div key={index}>\n                            <Toolitem\n                              toolData={tool}\n                              forceRender={forceRender}\n                              homeTool={true}\n                            />\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  ) : (\n                    <div style={{ display: \"none\" }}></div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </main>\n        <Modal\n          isOpen={modalIsOpen}\n          onRequestClose={closeModal}\n          style={ModalcustomStyles}\n          contentLabel=\"Example Modal\"\n        >\n          {!currentUser ? (\n            <div>\n              <Link to={\"/signup\"}>\n                <u>Sign up</u> to personalize your folders\n              </Link>\n            </div>\n          ) : (\n            <div>\n              {currentUserData?.folders?.length === 0 ? (\n                <Link to={\"/folders\"}>\n                  <div>\n                    {\" \"}\n                    <u>Create</u> folders for easy organization.\n                  </div>\n                </Link>\n              ) : (\n                <div className={`space-x-4 grid grid-cols-3 gap-4`}>\n                  {currentUserData?.folders?.map((item, index) => (\n                    <div\n                      className=\"cursor-pointer\"\n                      key={index}\n                      onClick={() => handleAddToolToFolder(index)}\n                    >\n                      <Folder key={index} isRowsView={false} item={item} />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </Modal>\n      </div>\n      <footer className=\"bg-black text-white py-10\">\n         <div className=\"flex flex-column justify-center items-center\">\n         <ul className=\"flex flex-row lg:gap-[64px] gap-3 mb-5\">\n          <h3>Follow us</h3>\n          <li className=\"tracking-wider hover:tracking-widest\">\n           <a\n            href=\"https://www.tiktok.com/@tech.bible\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n           >\n          <i className=\"fab fa-tiktok text-white text-xl\"></i>\n           </a>\n          </li>\n          <li className=\"tracking-wider hover:tracking-widest\">\n           <a\n          href=\"https://youtube.com/@MyTechBible\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <i className=\"fab fa-youtube text-white text-xl\"></i>\n        </a>\n      </li>\n      <li className=\"tracking-wider hover:tracking-widest\">\n        <a\n          href=\"https://www.instagram.com/techbible.ai/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <i className=\"fab fa-instagram text-white text-xl\"></i>\n        </a>\n      </li>\n    </ul>\n    <a href=\"https://www.mytechbible.com/\" target=\"_blank\">\n      <div className=\"text-[14px] font-semibold mb-4\">\n        Made by{\" \"}\n        <div className=\"text-[#EF4823] inline-block\">Techbible Studio</div>\n      </div>\n    </a>\n  </div>\n</footer>\n\n      {/* <Footer /> */}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}