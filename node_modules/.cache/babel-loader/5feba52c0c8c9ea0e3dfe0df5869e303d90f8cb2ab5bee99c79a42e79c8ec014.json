{"ast":null,"code":"import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{AuthContext}from\"../../../context/AuthContext\";import{collection,getDocs,limit,query,where}from\"firebase/firestore\";import{db}from\"../../../config/firebase\";import YouMightLikeItem from\"./YouMightLikeItem\";import{useRecoilValue}from\"recoil\";import{allToolsAtom}from\"../../../recoil/tool\";import{jsx as _jsx}from\"react/jsx-runtime\";var YouMightLikeApp=function YouMightLikeApp(){var _useContext=useContext(AuthContext),currentUserData=_useContext.currentUserData;var _useState=useState(),_useState2=_slicedToArray(_useState,2),Tools=_useState2[0],setTools=_useState2[1];// Handle Screen Sizing\nvar _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),screenWidth=_useState4[0],setScreenWidth=_useState4[1];useEffect(function(){var handleResize=function handleResize(){setScreenWidth(window.innerWidth);};// Attach the event listener on component mount\nwindow.addEventListener(\"resize\",handleResize);// Clean up the event listener on component unmount\nreturn function(){window.removeEventListener(\"resize\",handleResize);};},[]);// The empty dependency array ensures the effect runs only once on mount\nvar allTools=useRecoilValue(allToolsAtom);useEffect(function(){console.log(\"level 0\");if(Array.isArray(allTools)&&currentUserData&&currentUserData.interests){console.log(\"Current User Interests:\",currentUserData.interests);var filteredTools=allTools.filter(function(tool){return currentUserData===null||currentUserData===void 0?void 0:currentUserData.interests.some(function(interest){return tool.Category.toLowerCase()===interest.toLowerCase();});});console.log(\"Filtered Tools:\",filteredTools);// Update the state with the filtered tools\nsetTools(filteredTools.slice(0,3));}},[allTools,currentUserData]);//to firebase\n// const LoadingMightLike = async () => {\n//   const ToolsRef = collection(db, \"Tools\");\n//   const tools = [];\n//   const q = query(\n//     ToolsRef,\n//     where(\"Category\", \"in\", currentUserData?.interests),\n//     limit(3)\n//   );\n//   try {\n//     const querySnapshot = await getDocs(q);\n//     querySnapshot.forEach((doc) => {\n//       tools.push(doc.data());\n//       setTools(tools);\n//     });\n//   } catch (error) {\n//     console.log(error);\n//   }\n// };\n// useEffect(() => {\n//   let isMounted = true;\n//   if (isMounted) {\n//     LoadingMightLike();\n//   }\n//   return () => {\n//     isMounted = false;\n//   };\n// }, []);\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col sm:flex-row\",style:{display:\"flex\"},children:Tools===null||Tools===void 0?void 0:Tools.map(function(tool,index){return/*#__PURE__*/_jsx(\"a\",{href:tool.URL,target:\"_blank\",rel:\"noreferrer\",children:index===2?screenWidth>710?/*#__PURE__*/_jsx(YouMightLikeItem,{id:tool._id,title:tool===null||tool===void 0?void 0:tool.Name,description:tool.Description,icon:tool.Icon,url:tool.URL,category:tool.category}):/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(YouMightLikeItem,{id:tool._id,title:tool===null||tool===void 0?void 0:tool.Name,description:tool.Description,icon:tool.Icon,url:tool.URL,category:tool.category})})},index);})})});};export default YouMightLikeApp;","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","collection","getDocs","limit","query","where","db","YouMightLikeItem","useRecoilValue","allToolsAtom","jsx","_jsx","YouMightLikeApp","_useContext","currentUserData","_useState","_useState2","_slicedToArray","Tools","setTools","_useState3","window","innerWidth","_useState4","screenWidth","setScreenWidth","handleResize","addEventListener","removeEventListener","allTools","console","log","Array","isArray","interests","filteredTools","filter","tool","some","interest","Category","toLowerCase","slice","children","className","style","display","map","index","href","URL","target","rel","id","_id","title","Name","description","Description","icon","Icon","url","category"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/components/home components/Filtering-container/YouMightLikeApp.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../../../context/AuthContext\";\r\nimport { collection, getDocs, limit, query, where } from \"firebase/firestore\";\r\nimport { db } from \"../../../config/firebase\";\r\nimport YouMightLikeItem from \"./YouMightLikeItem\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { allToolsAtom } from \"../../../recoil/tool\";\r\n\r\nconst YouMightLikeApp = () => {\r\n  const { currentUserData } = useContext(AuthContext);\r\n  const [Tools, setTools] = useState();\r\n\r\n  // Handle Screen Sizing\r\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setScreenWidth(window.innerWidth);\r\n    };\r\n\r\n    // Attach the event listener on component mount\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    // Clean up the event listener on component unmount\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []); // The empty dependency array ensures the effect runs only once on mount\r\n  const allTools = useRecoilValue(allToolsAtom);\r\n  useEffect(() => {\r\n    console.log(\"level 0\");\r\n    if (\r\n      Array.isArray(allTools) &&\r\n      currentUserData &&\r\n      currentUserData.interests\r\n    ) {\r\n      console.log(\"Current User Interests:\", currentUserData.interests);\r\n\r\n      const filteredTools = allTools.filter((tool) =>\r\n        currentUserData?.interests.some(\r\n          (interest) => tool.Category.toLowerCase() === interest.toLowerCase()\r\n        )\r\n      );\r\n\r\n      console.log(\"Filtered Tools:\", filteredTools);\r\n\r\n      // Update the state with the filtered tools\r\n      setTools(filteredTools.slice(0, 3));\r\n    }\r\n  }, [allTools, currentUserData]);\r\n  //to firebase\r\n  // const LoadingMightLike = async () => {\r\n  //   const ToolsRef = collection(db, \"Tools\");\r\n  //   const tools = [];\r\n  //   const q = query(\r\n  //     ToolsRef,\r\n  //     where(\"Category\", \"in\", currentUserData?.interests),\r\n  //     limit(3)\r\n  //   );\r\n  //   try {\r\n  //     const querySnapshot = await getDocs(q);\r\n  //     querySnapshot.forEach((doc) => {\r\n  //       tools.push(doc.data());\r\n  //       setTools(tools);\r\n  //     });\r\n  //   } catch (error) {\r\n  //     console.log(error);\r\n  //   }\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   let isMounted = true;\r\n  //   if (isMounted) {\r\n  //     LoadingMightLike();\r\n  //   }\r\n\r\n  //   return () => {\r\n  //     isMounted = false;\r\n  //   };\r\n  // }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col sm:flex-row\" style={{ display: \"flex\" }}>\r\n        {Tools?.map((tool, index) => (\r\n          <a key={index} href={tool.URL} target=\"_blank\" rel=\"noreferrer\">\r\n            {index === 2 ? (\r\n              screenWidth > 710 ? (\r\n                <YouMightLikeItem\r\n                  id={tool._id}\r\n                  title={tool?.Name}\r\n                  description={tool.Description}\r\n                  icon={tool.Icon}\r\n                  url={tool.URL}\r\n                  category={tool.category}\r\n                />\r\n              ) : (\r\n                <div></div>\r\n              )\r\n            ) : (\r\n              <div>\r\n                <YouMightLikeItem\r\n                  id={tool._id}\r\n                  title={tool?.Name}\r\n                  description={tool.Description}\r\n                  icon={tool.Icon}\r\n                  url={tool.URL}\r\n                  category={tool.category}\r\n                />\r\n              </div>\r\n            )}\r\n          </a>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YouMightLikeApp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}