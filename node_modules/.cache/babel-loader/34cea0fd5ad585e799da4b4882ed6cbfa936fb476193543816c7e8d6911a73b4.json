{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useContext,useEffect,useState}from\"react\";import{BASE_URL}from\"../../config/mongo\";import{AuthContext}from\"../../context/AuthContext\";import{Link}from\"react-router-dom\";import UserInDiscussion from\"./UserInDiscussion\";import ProfilePhoto from\"../ProfilePhoto\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Discussion=function Discussion(_ref){var discussion=_ref.discussion,Discussions=_ref.Discussions,setUserDiscussionData=_ref.setUserDiscussionData,setShowUserAside=_ref.setShowUserAside,setCategoryOfDiscussion=_ref.setCategoryOfDiscussion,replyTo=_ref.replyTo;var _useState=useState(),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),upvoteClicked=_useState4[0],setUpvoteClicked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),downvoteClicked=_useState6[0],setDownvoteClicked=_useState6[1];var _useState7=useState((discussion===null||discussion===void 0?void 0:discussion.LikedBy.length)-(discussion===null||discussion===void 0?void 0:discussion.DislikedBy.length)||0),_useState8=_slicedToArray(_useState7,2),voteDifference=_useState8[0],setVoteDifference=_useState8[1];// State variable for vote difference\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDropdownVisible=_useState10[0],setDropdownVisible=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),replies=_useState12[0],setReplies=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showReplies=_useState14[0],setShowReplies=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),AddReply=_useState16[0],setAddReply=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),reply=_useState18[0],setReply=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isEdditDiscussionClicked=_useState20[0],setIsEdditDiscussionClicked=_useState20[1];var _useState21=useState(discussion===null||discussion===void 0?void 0:discussion.Title),_useState22=_slicedToArray(_useState21,2),edditedTitle=_useState22[0],setEdditedTitle=_useState22[1];var _useState23=useState(discussion===null||discussion===void 0?void 0:discussion.Description),_useState24=_slicedToArray(_useState23,2),edditedDescription=_useState24[0],setEdditedDescription=_useState24[1];var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser,currentUserData=_useContext.currentUserData;var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isHovered=_useState26[0],setIsHovered=_useState26[1];var handleMouseEnter=function handleMouseEnter(){setIsHovered(true);};var handleMouseLeave=function handleMouseLeave(){setIsHovered(false);};var userCardStyle={display:isHovered?\"block\":\"none\"};var fetchReplies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,Replies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(BASE_URL,\"/discussions\"));case 2:response=_context.sent;data=response.data;Replies=data===null||data===void 0?void 0:data.filter(function(dis){return(dis===null||dis===void 0?void 0:dis.ParentId)===(discussion===null||discussion===void 0?void 0:discussion._id);});setReplies(Replies);case 6:case\"end\":return _context.stop();}},_callee);}));return function fetchReplies(){return _ref2.apply(this,arguments);};}();var handleAddReply=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var userId,title,description,category,parentId,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:userId=currentUser===null||currentUser===void 0?void 0:currentUser.uid;title=\"\";description=reply;category=\"\";parentId=discussion===null||discussion===void 0?void 0:discussion._id;console.log(\"userId : \"+userId+\"title : \"+title+\"description : \"+description+\"parentId : \"+parentId);_context2.prev=6;_context2.next=9;return axios.post(\"\".concat(BASE_URL,\"/create-discussion\"),{userId:userId,title:title,description:description,category:category,parentId:parentId});case 9:response=_context2.sent;console.log(\"Reply to discussion Created successfully:\",response.data);_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](6);console.log(\"Erreur create disc\"+_context2.t0);case 16:// Handle successful response\n// fetchDiscussions();\nfetchReplies();setReply(\"\");// setAddReply(false);\ncase 18:case\"end\":return _context2.stop();}},_callee2,null,[[6,13]]);}));return function handleAddReply(){return _ref3.apply(this,arguments);};}();var handleVoteNumber=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var res,_res,_res2,_res3;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!upvoteClicked){_context3.next=13;break;}_context3.prev=1;_context3.next=4;return axios.post(\"\".concat(BASE_URL,\"/addUpvote/\").concat(discussion._id,\"/\").concat(currentUser===null||currentUser===void 0?void 0:currentUser.uid));case 4:res=_context3.sent;console.log(\"Upvote added  Succesfuly\");_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);console.log(\"Upvote add ERROR \"+_context3.t0);case 11:_context3.next=23;break;case 13:_context3.prev=13;_context3.next=16;return axios.post(\"\".concat(BASE_URL,\"/removeUpvote/\").concat(discussion._id,\"/\").concat(currentUser===null||currentUser===void 0?void 0:currentUser.uid));case 16:_res=_context3.sent;console.log(\"Upvote removed  Succesfuly\");_context3.next=23;break;case 20:_context3.prev=20;_context3.t1=_context3[\"catch\"](13);console.log(\"Upvote remove ERROR \"+_context3.t1);case 23:if(!downvoteClicked){_context3.next=36;break;}_context3.prev=24;_context3.next=27;return axios.post(\"\".concat(BASE_URL,\"/addDownvote/\").concat(discussion._id,\"/\").concat(currentUser===null||currentUser===void 0?void 0:currentUser.uid));case 27:_res2=_context3.sent;console.log(\"dwonvote added  Succesfuly\");_context3.next=34;break;case 31:_context3.prev=31;_context3.t2=_context3[\"catch\"](24);console.log(\"downvote add ERROR \"+_context3.t2);case 34:_context3.next=46;break;case 36:_context3.prev=36;_context3.next=39;return axios.post(\"\".concat(BASE_URL,\"/removeDownvote/\").concat(discussion._id,\"/\").concat(currentUser===null||currentUser===void 0?void 0:currentUser.uid));case 39:_res3=_context3.sent;console.log(\"dwonvote removed  Succesfuly\");_context3.next=46;break;case 43:_context3.prev=43;_context3.t3=_context3[\"catch\"](36);console.log(\"downvote remove ERROR \"+_context3.t3);case 46:case\"end\":return _context3.stop();}},_callee3,null,[[1,8],[13,20],[24,31],[36,43]]);}));return function handleVoteNumber(){return _ref4.apply(this,arguments);};}();var handleUpvoteClick=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!upvoteClicked){_context4.next=5;break;}setDownvoteClicked(false);setVoteDifference(function(prevDifference){return prevDifference-1;});_context4.next=21;break;case 5:if(!downvoteClicked){_context4.next=20;break;}_context4.prev=6;_context4.next=9;return axios.post(\"\".concat(BASE_URL,\"/removeDownvote/\").concat(discussion._id,\"/\").concat(currentUser===null||currentUser===void 0?void 0:currentUser.uid));case 9:res=_context4.sent;console.log(\"Downvote removed successfully\");_context4.next=16;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](6);console.log(\"Downvote remove ERROR \"+_context4.t0);case 16:setDownvoteClicked(false);setVoteDifference(function(prevDifference){return prevDifference+2;});_context4.next=21;break;case 20:setVoteDifference(function(prevDifference){return prevDifference+1;});case 21:setUpvoteClicked(!upvoteClicked);case 22:case\"end\":return _context4.stop();}},_callee4,null,[[6,13]]);}));return function handleUpvoteClick(){return _ref5.apply(this,arguments);};}();var handleDownvoteClick=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(downvoteClicked){setUpvoteClicked(false);setVoteDifference(function(prevDifference){return prevDifference+1;});}else{if(upvoteClicked){setUpvoteClicked(false);setVoteDifference(function(prevDifference){return prevDifference-2;});}else{setVoteDifference(function(prevDifference){return prevDifference-1;});}}setDownvoteClicked(!downvoteClicked);case 2:case\"end\":return _context5.stop();}},_callee5);}));return function handleDownvoteClick(){return _ref6.apply(this,arguments);};}();var getUserData=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var res;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.get(\"\".concat(BASE_URL,\"/check-user/\").concat(discussion.UserId));case 2:res=_context6.sent;setUserData(res.data);case 4:case\"end\":return _context6.stop();}},_callee6);}));return function getUserData(){return _ref7.apply(this,arguments);};}();useEffect(function(){var _discussion$LikedBy,_discussion$DislikedB;setUpvoteClicked((discussion===null||discussion===void 0?void 0:(_discussion$LikedBy=discussion.LikedBy)===null||_discussion$LikedBy===void 0?void 0:_discussion$LikedBy.includes(currentUser===null||currentUser===void 0?void 0:currentUser.uid))||false);setDownvoteClicked((discussion===null||discussion===void 0?void 0:(_discussion$DislikedB=discussion.DislikedBy)===null||_discussion$DislikedB===void 0?void 0:_discussion$DislikedB.includes(currentUser===null||currentUser===void 0?void 0:currentUser.uid))||false);setVoteDifference((discussion===null||discussion===void 0?void 0:discussion.LikedBy.length)-(discussion===null||discussion===void 0?void 0:discussion.DislikedBy.length)||0);},[discussion,currentUser]);useEffect(function(){handleVoteNumber();},[upvoteClicked,downvoteClicked]);useEffect(function(){console.log(\"DISCUSSIONS : \"+JSON.stringify(Discussions));console.log(\"REPLIES : \"+JSON.stringify(replies));getUserData();fetchReplies();var Replies=Discussions===null||Discussions===void 0?void 0:Discussions.filter(function(disc){return(disc===null||disc===void 0?void 0:disc.ParentId)===(discussion===null||discussion===void 0?void 0:discussion.ParentId);});setReplies(Replies);},[]);var handleRemoveDiscussion=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var response,res,_response;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!((discussion===null||discussion===void 0?void 0:discussion.ParentId)===null)){_context7.next=16;break;}if(!window.confirm(\"Are you sure that you want to delete this dicussion?\")){_context7.next=16;break;}_context7.prev=2;_context7.next=5;return axios.delete(\"\".concat(BASE_URL,\"/deleteDiscussion/\").concat(discussion===null||discussion===void 0?void 0:discussion._id));case 5:response=_context7.sent;_context7.next=8;return axios.delete(\"\".concat(BASE_URL,\"/deleteReplies/\").concat(discussion===null||discussion===void 0?void 0:discussion._id));case 8:res=_context7.sent;console.log(\"Discussion deleted succesfuly\");window.location.reload();_context7.next=16;break;case 13:_context7.prev=13;_context7.t0=_context7[\"catch\"](2);console.log(\"Delete Discussion error : \"+_context7.t0);case 16:if(!((discussion===null||discussion===void 0?void 0:discussion.ParentId)!==null)){_context7.next=30;break;}if(!window.confirm(\"Are you sure that you want to delete your reply?\")){_context7.next=30;break;}_context7.prev=18;_context7.next=21;return axios.delete(\"\".concat(BASE_URL,\"/deleteDiscussion/\").concat(discussion===null||discussion===void 0?void 0:discussion._id));case 21:_response=_context7.sent;window.location.reload();console.log(\"reply deleted succesfuly\");fetchReplies();_context7.next=30;break;case 27:_context7.prev=27;_context7.t1=_context7[\"catch\"](18);console.log(\"Delete reply error : \"+_context7.t1);case 30:case\"end\":return _context7.stop();}},_callee7,null,[[2,13],[18,27]]);}));return function handleRemoveDiscussion(){return _ref8.apply(this,arguments);};}();var handleEdditDiscussion=function handleEdditDiscussion(){setIsEdditDiscussionClicked(true);setEdditedTitle(discussion===null||discussion===void 0?void 0:discussion.Title);setEdditedDescription(discussion===null||discussion===void 0?void 0:discussion.Description);};var edditDiscussion=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(){var res,_res4;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:console.log(\"DISCUSSION EDDITED : \"+(discussion===null||discussion===void 0?void 0:discussion._id)+\" \"+edditedTitle+\" \"+edditedDescription);if(!((discussion===null||discussion===void 0?void 0:discussion.ParentId)===null)){_context8.next=16;break;}_context8.prev=2;_context8.next=5;return axios.post(\"\".concat(BASE_URL,\"/updateDiscussion/\").concat(discussion===null||discussion===void 0?void 0:discussion._id,\"/\").concat(edditedTitle,\"/\").concat(edditedDescription));case 5:res=_context8.sent;console.log(\"discussion updated succesfuly\");setIsEdditDiscussionClicked(false);// window.location.reload();\nalert(\"Confirm to edit your discussion.\");_context8.next=14;break;case 11:_context8.prev=11;_context8.t0=_context8[\"catch\"](2);console.log(\"Update discussion error : \"+_context8.t0);case 14:_context8.next=28;break;case 16:_context8.prev=16;_context8.next=19;return axios.post(\"\".concat(BASE_URL,\"/updateDiscussion/\").concat(discussion===null||discussion===void 0?void 0:discussion._id,\"/\",\"0\",\"/\").concat(edditedDescription));case 19:_res4=_context8.sent;console.log(\"discussion updated succesfuly\");setIsEdditDiscussionClicked(false);// window.location.reload();\nalert(\"Confirm to edit your reply.\");_context8.next=28;break;case 25:_context8.prev=25;_context8.t1=_context8[\"catch\"](16);console.log(\"Update discussion error : \"+_context8.t1);case 28:case\"end\":return _context8.stop();}},_callee8,null,[[2,11],[16,25]]);}));return function edditDiscussion(){return _ref9.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"article\",{className:(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null?\"p-6 mb-4 text-white  rounded-lg border-1 border-white \":\"p-6 mb-2 text-white\",children:[/*#__PURE__*/_jsxs(\"footer\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative \",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(Link,{to:\"/UserProfile/\".concat(userData===null||userData===void 0?void 0:userData.uid),children:(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null?/*#__PURE__*/_jsx(ProfilePhoto,{url:userData===null||userData===void 0?void 0:userData.photo,size:12}):/*#__PURE__*/_jsx(ProfilePhoto,{url:userData===null||userData===void 0?void 0:userData.photo,size:8})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-[999] w-[300px] top-[-120px] left-[20px]\",style:userCardStyle,children:/*#__PURE__*/_jsx(UserInDiscussion,{userDiscussionData:userData,categoryOfDiscussion:discussion===null||discussion===void 0?void 0:discussion.Category})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:/*#__PURE__*/_jsx(\"p\",{className:\"inline-flex items-center mr-3 text-sm text-gray-900 dark:text-white\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-white\",children:[userData===null||userData===void 0?void 0:userData.username,\" \"]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:/*#__PURE__*/_jsx(\"time\",{children:discussion===null||discussion===void 0?void 0:discussion.timeAgo})})})]}),(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null&&/*#__PURE__*/_jsx(\"div\",{className:\"text-[12px] text-black bg-white px-[4px]  ml-14 py-[2px] rounded-md   \",children:discussion===null||discussion===void 0?void 0:discussion.Category})]}),((discussion===null||discussion===void 0?void 0:discussion.UserId)===(currentUser===null||currentUser===void 0?void 0:currentUser.uid)||(currentUserData===null||currentUserData===void 0?void 0:currentUserData.isAdmin)===true)&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{id:\"dropdownComment1Button\",\"data-dropdown-toggle\":\"dropdownComment1\",className:\"inline-flex items-center p-2 text-sm font-medium text-center text-gray-400 bg-[#1C1C1C] rounded-lg hover:bg-white focus:ring-4 focus:outline-none focus:ring-gray-50 dark:bg-gray-900 dark:hover:bg-white dark:focus:ring-gray-600\",type:\"button\",onClick:function onClick(){return setDropdownVisible(!isDropdownVisible);},children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",\"aria-hidden\":\"true\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Comment settings\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"dropdownComment1\",className:\"\".concat(isDropdownVisible?\"block\":\"hidden\",\" z-10 w15 bg-[#1c1c1c] rounded divide-y divide-gray-100 shadow  absolute right-0\"),children:/*#__PURE__*/_jsxs(\"ul\",{className:\"py-1 text-sm text-white \",\"aria-labelledby\":\"dropdownMenuIconHorizontalButton\",children:[!((discussion===null||discussion===void 0?void 0:discussion.UserId)!==(currentUser===null||currentUser===void 0?void 0:currentUser.uid)&&(currentUserData===null||currentUserData===void 0?void 0:currentUserData.isAdmin)===true)&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer\",onClick:handleEdditDiscussion,children:\"Edit\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer\",onClick:handleRemoveDiscussion,children:\"Delete\"})})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-column align-items-center my-1 \"}),/*#__PURE__*/_jsxs(\"div\",{className:(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null?\"pl-14 ml-4 \":\"pl-14 ml-4\",style:{borderLeft:(discussion===null||discussion===void 0?void 0:discussion.ParentId)!==null?\"2px solid orange\":\"none\",borderImage:(discussion===null||discussion===void 0?void 0:discussion.ParentId)!==null?\"linear-gradient(to bottom, white, white, black) 1\":\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-column\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:isEdditDiscussionClicked?/*#__PURE__*/_jsxs(\"div\",{children:[(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null&&/*#__PURE__*/_jsx(\"textarea\",{className:\"text-white rounded-md\",type:\"text\",value:edditedTitle,onChange:function onChange(e){setEdditedTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"textarea\",{className:\"text-white rounded-md\",type:\"text\",value:edditedDescription,onChange:function onChange(e){setEdditedDescription(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-md text-black px-2 py-[2px] mr-2 cursor-pointer \",onClick:function onClick(){return setIsEdditDiscussionClicked(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"div\",{onClick:edditDiscussion,className:\"bg-[#EF4823] rounded-md px-2 py-[2px] text-white cursor-pointer \",children:\"Submit\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[!(discussion!==null&&discussion!==void 0&&discussion.ParentId)&&/*#__PURE__*/_jsx(\"p\",{className:\"text-white fontWeight-500 opacity-[.9] text-[16px] mb-4\",children:edditedTitle}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-sm\",children:[(discussion===null||discussion===void 0?void 0:discussion.ParentId)!==null&&/*#__PURE__*/_jsxs(\"i\",{className:\"text-white text-sm opacity-[1]\",children:[\"@\"+replyTo,\" \"]}),edditedDescription]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-4 space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"flex items-center text-sm text-gray-500 hover:underline dark:text-gray-400\",onClick:function onClick(){setShowReplies(!showReplies);setUserDiscussionData(userData);setShowUserAside(true);setCategoryOfDiscussion(discussion===null||discussion===void 0?void 0:discussion.Category);},children:[/*#__PURE__*/_jsx(\"svg\",{\"aria-hidden\":\"true\",className:\"mr-1 w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),\"Replies\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 border rounded-full \".concat(upvoteClicked?\"bg-white text-black\":\"hover:bg-white hover:text-black\"),onClick:handleUpvoteClick,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",\"stroke-width\":\"1.5\",stroke:\"currentColor\",class:\"w-4 h-4\",children:/*#__PURE__*/_jsx(\"path\",{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",d:\"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"color-white fontSize-12 fontWeight-400 noOfLines-undefined\",children:voteDifference}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 border rounded-full \".concat(downvoteClicked?\"bg-white text-black\":\"hover:bg-gray-100 hover:text-black\"),onClick:handleDownvoteClick,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",\"stroke-width\":\"1.5\",stroke:\"currentColor\",class:\"w-4 h-4\",children:/*#__PURE__*/_jsx(\"path\",{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",d:\"M7.5 15h2.25m8.024-9.75c.011.05.028.1.052.148.591 1.2.924 2.55.924 3.977a8.96 8.96 0 01-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398C20.613 14.547 19.833 15 19 15h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 00.303-.54m.023-8.25H16.48a4.5 4.5 0 01-1.423-.23l-3.114-1.04a4.5 4.5 0 00-1.423-.23H6.504c-.618 0-1.217.247-1.605.729A11.95 11.95 0 002.25 12c0 .434.023.863.068 1.285C2.427 14.306 3.346 15 4.372 15h3.126c.618 0 .991.724.725 1.282A7.471 7.471 0 007.5 19.5a2.25 2.25 0 002.25 2.25.75.75 0 00.75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 002.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384\"})})})]})]})]})}),showReplies&&/*#__PURE__*/_jsxs(\"div\",{className:(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null&&\"ml-8\",children:[replies&&replies.map(function(reply){return/*#__PURE__*/_jsx(Discussion,{discussion:reply,Discussions:Discussions,setUserDiscussionData:setUserDiscussionData,setShowUserAside:setShowUserAside,setCategoryOfDiscussion:setCategoryOfDiscussion,replyTo:(discussion===null||discussion===void 0?void 0:discussion.parentId)!==null&&(userData===null||userData===void 0?void 0:userData.username)},reply._id);}),/*#__PURE__*/_jsxs(\"div\",{class:\"flex flex-row align-items-center mb-10\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"comment\",rows:\"6\",className:(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null?\"px-0 w-[60%] mr-2 text-sm text-black rounded-[8px] max-h-[30px] px-3 py-3 border-0 focus:ring-0 focus:outline-none   bg-white \":\"px-0 w-[40%] mr-2 text-sm text-black rounded-[8px] max-h-[26px] px-3 py-3 border-0 focus:ring-0 focus:outline-none   bg-white ml-[6%]\",placeholder:(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null?\"Reply...\":\"Reply to @\"+(userData===null||userData===void 0?void 0:userData.username),value:reply,onChange:function onChange(e){setReply(e.target.value);}}),(discussion===null||discussion===void 0?void 0:discussion.ParentId)===null?/*#__PURE__*/_jsx(\"button\",{onClick:handleAddReply,class:\"inline-flex items-center mt-2 py-2 px-4 text-xs font-medium text-center text-white bg-[#EF4823] rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800\",children:\"Post reply\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleAddReply,children:/*#__PURE__*/_jsxs(\"svg\",{className:\"h-5 w-5 hover:h-6 hover:w-6 text-orange-500\",viewBox:\"0 0 24 24\",\"stroke-width\":\"2\",stroke:\"currentColor\",fill:\"none\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",children:[\" \",/*#__PURE__*/_jsx(\"path\",{stroke:\"none\",d:\"M0 0h24v24H0z\"}),\" \",/*#__PURE__*/_jsx(\"line\",{x1:\"10\",y1:\"14\",x2:\"21\",y2:\"3\"}),\" \",/*#__PURE__*/_jsx(\"path\",{d:\"M21 3L14.5 21a.55 .55 0 0 1 -1 0L10 14L3 10.5a.55 .55 0 0 1 0 -1L21 3\"})]})})]})]})]});};export default Discussion;","map":{"version":3,"names":["axios","React","useContext","useEffect","useState","BASE_URL","AuthContext","Link","UserInDiscussion","ProfilePhoto","jsx","_jsx","jsxs","_jsxs","Discussion","_ref","discussion","Discussions","setUserDiscussionData","setShowUserAside","setCategoryOfDiscussion","replyTo","_useState","_useState2","_slicedToArray","userData","setUserData","_useState3","_useState4","upvoteClicked","setUpvoteClicked","_useState5","_useState6","downvoteClicked","setDownvoteClicked","_useState7","LikedBy","length","DislikedBy","_useState8","voteDifference","setVoteDifference","_useState9","_useState10","isDropdownVisible","setDropdownVisible","_useState11","_useState12","replies","setReplies","_useState13","_useState14","showReplies","setShowReplies","_useState15","_useState16","AddReply","setAddReply","_useState17","_useState18","reply","setReply","_useState19","_useState20","isEdditDiscussionClicked","setIsEdditDiscussionClicked","_useState21","Title","_useState22","edditedTitle","setEdditedTitle","_useState23","Description","_useState24","edditedDescription","setEdditedDescription","_useContext","currentUser","currentUserData","_useState25","_useState26","isHovered","setIsHovered","handleMouseEnter","handleMouseLeave","userCardStyle","display","fetchReplies","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","Replies","wrap","_callee$","_context","prev","next","get","concat","sent","filter","dis","ParentId","_id","stop","apply","arguments","handleAddReply","_ref3","_callee2","userId","title","description","category","parentId","_callee2$","_context2","uid","console","log","post","t0","handleVoteNumber","_ref4","_callee3","res","_res","_res2","_res3","_callee3$","_context3","t1","t2","t3","handleUpvoteClick","_ref5","_callee4","_callee4$","_context4","prevDifference","handleDownvoteClick","_ref6","_callee5","_callee5$","_context5","getUserData","_ref7","_callee6","_callee6$","_context6","UserId","_discussion$LikedBy","_discussion$DislikedB","includes","JSON","stringify","disc","handleRemoveDiscussion","_ref8","_callee7","_response","_callee7$","_context7","window","confirm","delete","location","reload","handleEdditDiscussion","edditDiscussion","_ref9","_callee8","_res4","_callee8$","_context8","alert","children","className","onMouseEnter","onMouseLeave","to","url","photo","size","style","userDiscussionData","categoryOfDiscussion","Category","username","timeAgo","isAdmin","id","type","onClick","fill","viewBox","xmlns","d","borderLeft","borderImage","value","onChange","e","target","stroke","class","map","rows","placeholder","x1","y1","x2","y2"],"sources":["C:/Users/ILHAME/OneDrive/Documents/GitHub/tech_bible_react/src/components/Community/Discussion.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { BASE_URL } from \"../../config/mongo\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserInDiscussion from \"./UserInDiscussion\";\r\nimport ProfilePhoto from \"../ProfilePhoto\";\r\n\r\nconst Discussion = ({\r\n  discussion,\r\n  Discussions,\r\n  setUserDiscussionData,\r\n  setShowUserAside,\r\n  setCategoryOfDiscussion,\r\n  replyTo,\r\n}) => {\r\n  const [userData, setUserData] = useState();\r\n  const [upvoteClicked, setUpvoteClicked] = useState(false);\r\n  const [downvoteClicked, setDownvoteClicked] = useState(false);\r\n  const [voteDifference, setVoteDifference] = useState(\r\n    discussion?.LikedBy.length - discussion?.DislikedBy.length || 0\r\n  ); // State variable for vote difference\r\n\r\n  const [isDropdownVisible, setDropdownVisible] = useState(false);\r\n\r\n  const [replies, setReplies] = useState();\r\n  const [showReplies, setShowReplies] = useState(false);\r\n  const [AddReply, setAddReply] = useState(false);\r\n  const [reply, setReply] = useState(\"\");\r\n  const [isEdditDiscussionClicked, setIsEdditDiscussionClicked] =\r\n    useState(false);\r\n  const [edditedTitle, setEdditedTitle] = useState(discussion?.Title);\r\n  const [edditedDescription, setEdditedDescription] = useState(\r\n    discussion?.Description\r\n  );\r\n  const { currentUser, currentUserData } = useContext(AuthContext);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  const handleMouseEnter = () => {\r\n    setIsHovered(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setIsHovered(false);\r\n  };\r\n\r\n  const userCardStyle = {\r\n    display: isHovered ? \"block\" : \"none\",\r\n  };\r\n\r\n  const fetchReplies = async () => {\r\n    const response = await axios.get(`${BASE_URL}/discussions`);\r\n    const data = response.data;\r\n    const Replies = data?.filter((dis) => dis?.ParentId === discussion?._id);\r\n    setReplies(Replies);\r\n  };\r\n\r\n  const handleAddReply = async () => {\r\n    const userId = currentUser?.uid;\r\n    const title = \"\";\r\n    const description = reply;\r\n    const category = \"\";\r\n    const parentId = discussion?._id;\r\n    console.log(\r\n      \"userId : \" +\r\n        userId +\r\n        \"title : \" +\r\n        title +\r\n        \"description : \" +\r\n        description +\r\n        \"parentId : \" +\r\n        parentId\r\n    );\r\n    try {\r\n      const response = await axios.post(`${BASE_URL}/create-discussion`, {\r\n        userId,\r\n        title,\r\n        description,\r\n        category,\r\n        parentId,\r\n      });\r\n      console.log(\"Reply to discussion Created successfully:\", response.data);\r\n    } catch (error) {\r\n      console.log(\"Erreur create disc\" + error);\r\n    }\r\n    // Handle successful response\r\n    // fetchDiscussions();\r\n    fetchReplies();\r\n    setReply(\"\");\r\n    // setAddReply(false);\r\n  };\r\n  const handleVoteNumber = async () => {\r\n    if (upvoteClicked) {\r\n      try {\r\n        const res = await axios.post(\r\n          `${BASE_URL}/addUpvote/${discussion._id}/${currentUser?.uid}`\r\n        );\r\n        console.log(\"Upvote added  Succesfuly\");\r\n      } catch (e) {\r\n        console.log(\"Upvote add ERROR \" + e);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios.post(\r\n          `${BASE_URL}/removeUpvote/${discussion._id}/${currentUser?.uid}`\r\n        );\r\n        console.log(\"Upvote removed  Succesfuly\");\r\n      } catch (e) {\r\n        console.log(\"Upvote remove ERROR \" + e);\r\n      }\r\n    }\r\n\r\n    if (downvoteClicked) {\r\n      try {\r\n        const res = await axios.post(\r\n          `${BASE_URL}/addDownvote/${discussion._id}/${currentUser?.uid}`\r\n        );\r\n        console.log(\"dwonvote added  Succesfuly\");\r\n      } catch (e) {\r\n        console.log(\"downvote add ERROR \" + e);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios.post(\r\n          `${BASE_URL}/removeDownvote/${discussion._id}/${currentUser?.uid}`\r\n        );\r\n        console.log(\"dwonvote removed  Succesfuly\");\r\n      } catch (e) {\r\n        console.log(\"downvote remove ERROR \" + e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleUpvoteClick = async () => {\r\n    if (upvoteClicked) {\r\n      setDownvoteClicked(false);\r\n      setVoteDifference((prevDifference) => prevDifference - 1);\r\n    } else {\r\n      if (downvoteClicked) {\r\n        try {\r\n          const res = await axios.post(\r\n            `${BASE_URL}/removeDownvote/${discussion._id}/${currentUser?.uid}`\r\n          );\r\n          console.log(\"Downvote removed successfully\");\r\n        } catch (e) {\r\n          console.log(\"Downvote remove ERROR \" + e);\r\n        }\r\n        setDownvoteClicked(false);\r\n        setVoteDifference((prevDifference) => prevDifference + 2);\r\n      } else {\r\n        setVoteDifference((prevDifference) => prevDifference + 1);\r\n      }\r\n    }\r\n    setUpvoteClicked(!upvoteClicked);\r\n  };\r\n\r\n  const handleDownvoteClick = async () => {\r\n    if (downvoteClicked) {\r\n      setUpvoteClicked(false);\r\n      setVoteDifference((prevDifference) => prevDifference + 1);\r\n    } else {\r\n      if (upvoteClicked) {\r\n        setUpvoteClicked(false);\r\n        setVoteDifference((prevDifference) => prevDifference - 2);\r\n      } else {\r\n        setVoteDifference((prevDifference) => prevDifference - 1);\r\n      }\r\n    }\r\n    setDownvoteClicked(!downvoteClicked);\r\n  };\r\n\r\n  const getUserData = async () => {\r\n    const res = await axios.get(`${BASE_URL}/check-user/${discussion.UserId}`);\r\n\r\n    setUserData(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUpvoteClicked(discussion?.LikedBy?.includes(currentUser?.uid) || false);\r\n    setDownvoteClicked(\r\n      discussion?.DislikedBy?.includes(currentUser?.uid) || false\r\n    );\r\n    setVoteDifference(\r\n      discussion?.LikedBy.length - discussion?.DislikedBy.length || 0\r\n    );\r\n  }, [discussion, currentUser]);\r\n\r\n  useEffect(() => {\r\n    handleVoteNumber();\r\n  }, [upvoteClicked, downvoteClicked]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"DISCUSSIONS : \" + JSON.stringify(Discussions));\r\n    console.log(\"REPLIES : \" + JSON.stringify(replies));\r\n    getUserData();\r\n    fetchReplies();\r\n    const Replies = Discussions?.filter(\r\n      (disc) => disc?.ParentId === discussion?.ParentId\r\n    );\r\n    setReplies(Replies);\r\n  }, []);\r\n\r\n  const handleRemoveDiscussion = async () => {\r\n    if (discussion?.ParentId === null) {\r\n      if (\r\n        window.confirm(\"Are you sure that you want to delete this dicussion?\")\r\n      ) {\r\n        try {\r\n          //delete discussion + their replies\r\n          const response = await axios.delete(\r\n            `${BASE_URL}/deleteDiscussion/${discussion?._id}`\r\n          );\r\n          const res = await axios.delete(\r\n            `${BASE_URL}/deleteReplies/${discussion?._id}`\r\n          );\r\n          console.log(\"Discussion deleted succesfuly\");\r\n          window.location.reload();\r\n        } catch (error) {\r\n          console.log(\"Delete Discussion error : \" + error);\r\n        }\r\n      }\r\n    }\r\n    if (discussion?.ParentId !== null) {\r\n      if (window.confirm(\"Are you sure that you want to delete your reply?\")) {\r\n        try {\r\n          //delete reply\r\n          const response = await axios.delete(\r\n            `${BASE_URL}/deleteDiscussion/${discussion?._id}`\r\n          );\r\n          window.location.reload();\r\n\r\n          console.log(\"reply deleted succesfuly\");\r\n          fetchReplies();\r\n        } catch (error) {\r\n          console.log(\"Delete reply error : \" + error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEdditDiscussion = () => {\r\n    setIsEdditDiscussionClicked(true);\r\n    setEdditedTitle(discussion?.Title);\r\n    setEdditedDescription(discussion?.Description);\r\n  };\r\n\r\n  const edditDiscussion = async () => {\r\n    console.log(\r\n      \"DISCUSSION EDDITED : \" +\r\n        discussion?._id +\r\n        \" \" +\r\n        edditedTitle +\r\n        \" \" +\r\n        edditedDescription\r\n    );\r\n    if (discussion?.ParentId === null) {\r\n      try {\r\n        const res = await axios.post(\r\n          `${BASE_URL}/updateDiscussion/${discussion?._id}/${edditedTitle}/${edditedDescription}`\r\n        );\r\n        console.log(\"discussion updated succesfuly\");\r\n        setIsEdditDiscussionClicked(false);\r\n        // window.location.reload();\r\n        alert(\"Confirm to edit your discussion.\");\r\n      } catch (error) {\r\n        console.log(\"Update discussion error : \" + error);\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios.post(\r\n          `${BASE_URL}/updateDiscussion/${\r\n            discussion?._id\r\n          }/${\"0\"}/${edditedDescription}`\r\n        );\r\n        console.log(\"discussion updated succesfuly\");\r\n        setIsEdditDiscussionClicked(false);\r\n        // window.location.reload();\r\n        alert(\"Confirm to edit your reply.\");\r\n      } catch (error) {\r\n        console.log(\"Update discussion error : \" + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <article\r\n          className={\r\n            discussion?.ParentId === null\r\n              ? \"p-6 mb-4 text-white  rounded-lg border-1 border-white \"\r\n              : \"p-6 mb-2 text-white\"\r\n          }\r\n        >\r\n          <footer className=\"flex justify-between items-center\">\r\n            <div className=\"flex flex-row items-center\">\r\n              <div className=\"flex flex-row align-items-center\">\r\n                <div\r\n                  className=\"relative \"\r\n                  onMouseEnter={handleMouseEnter}\r\n                  onMouseLeave={handleMouseLeave}\r\n                >\r\n                  <Link to={`/UserProfile/${userData?.uid}`}>\r\n                    {discussion?.ParentId === null ? (\r\n                      <ProfilePhoto url={userData?.photo} size={12} />\r\n                    ) : (\r\n                      <ProfilePhoto url={userData?.photo} size={8} />\r\n                    )}\r\n                    {/* <div>\r\n                      <img\r\n                        className={\r\n                          discussion?.ParentId === null\r\n                            ? \"mr-2 w-12 h-12 rounded-full\"\r\n                            : \"mr-2 w-8 h-8 rounded-full\"\r\n                        }\r\n                        src={userData?.photo}\r\n                        alt={userData?.username}\r\n                      />\r\n                    </div> */}\r\n                  </Link>\r\n                  <div\r\n                    className=\"absolute z-[999] w-[300px] top-[-120px] left-[20px]\"\r\n                    style={userCardStyle}\r\n                  >\r\n                    <UserInDiscussion\r\n                      userDiscussionData={userData}\r\n                      categoryOfDiscussion={discussion?.Category}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"cursor-pointer\"\r\n                  onMouseEnter={handleMouseEnter}\r\n                  onMouseLeave={handleMouseLeave}\r\n                >\r\n                  <p className=\"inline-flex items-center mr-3 text-sm text-gray-900 dark:text-white\">\r\n                    <p className=\"text-white\">{userData?.username} </p>\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    <time>{discussion?.timeAgo}</time>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              {discussion?.ParentId === null && (\r\n                <div className=\"text-[12px] text-black bg-white px-[4px]  ml-14 py-[2px] rounded-md   \">\r\n                  {discussion?.Category}\r\n                </div>\r\n              )}\r\n            </div>\r\n            {(discussion?.UserId === currentUser?.uid ||\r\n              currentUserData?.isAdmin === true) && (\r\n              <div className=\"relative\">\r\n                <button\r\n                  id=\"dropdownComment1Button\"\r\n                  data-dropdown-toggle=\"dropdownComment1\"\r\n                  className=\"inline-flex items-center p-2 text-sm font-medium text-center text-gray-400 bg-[#1C1C1C] rounded-lg hover:bg-white focus:ring-4 focus:outline-none focus:ring-gray-50 dark:bg-gray-900 dark:hover:bg-white dark:focus:ring-gray-600\"\r\n                  type=\"button\"\r\n                  onClick={() => setDropdownVisible(!isDropdownVisible)}\r\n                >\r\n                  <svg\r\n                    className=\"w-5 h-5\"\r\n                    aria-hidden=\"true\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path d=\"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z\"></path>\r\n                  </svg>\r\n                  <span className=\"sr-only\">Comment settings</span>\r\n                </button>\r\n\r\n                {/* <!-- Dropdown menu --> */}\r\n                <div\r\n                  id=\"dropdownComment1\"\r\n                  className={`${\r\n                    isDropdownVisible ? \"block\" : \"hidden\"\r\n                  } z-10 w15 bg-[#1c1c1c] rounded divide-y divide-gray-100 shadow  absolute right-0`}\r\n                >\r\n                  <ul\r\n                    className=\"py-1 text-sm text-white \"\r\n                    aria-labelledby=\"dropdownMenuIconHorizontalButton\"\r\n                  >\r\n                    {!(\r\n                      discussion?.UserId !== currentUser?.uid &&\r\n                      currentUserData?.isAdmin === true\r\n                    ) && (\r\n                      <li>\r\n                        <div\r\n                          className=\"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer\"\r\n                          onClick={handleEdditDiscussion}\r\n                        >\r\n                          Edit\r\n                        </div>\r\n                      </li>\r\n                    )}\r\n                    <li>\r\n                      <div\r\n                        className=\"block py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer\"\r\n                        onClick={handleRemoveDiscussion}\r\n                      >\r\n                        Delete\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                {/* <!--End Dropdown menu --> */}\r\n              </div>\r\n            )}\r\n          </footer>\r\n\r\n          <div className=\"flex flex-column align-items-center my-1 \">\r\n            {/* <div\r\n              className={\r\n                discussion?.ParentId === null &&\r\n                \"w-[70%] h-[.5px] opacity-[.6] bg-white \"\r\n              }\r\n            ></div> */}\r\n          </div>\r\n          <div\r\n            className={\r\n              discussion?.ParentId === null ? \"pl-14 ml-4 \" : \"pl-14 ml-4\"\r\n            }\r\n            style={{\r\n              borderLeft:\r\n                discussion?.ParentId !== null ? \"2px solid orange\" : \"none\",\r\n              borderImage:\r\n                discussion?.ParentId !== null\r\n                  ? \"linear-gradient(to bottom, white, white, black) 1\"\r\n                  : \"none\",\r\n            }}\r\n          >\r\n            <div className=\"flex flex-column\"></div>\r\n            <div className=\"\">\r\n              {isEdditDiscussionClicked ? (\r\n                <div>\r\n                  {discussion?.ParentId === null && (\r\n                    <textarea\r\n                      className=\"text-white rounded-md\"\r\n                      type=\"text\"\r\n                      value={edditedTitle}\r\n                      onChange={(e) => {\r\n                        setEdditedTitle(e.target.value);\r\n                      }}\r\n                    />\r\n                  )}\r\n                  <textarea\r\n                    className=\"text-white rounded-md\"\r\n                    type=\"text\"\r\n                    value={edditedDescription}\r\n                    onChange={(e) => {\r\n                      setEdditedDescription(e.target.value);\r\n                    }}\r\n                  />\r\n                  <div className=\"flex flex-row\">\r\n                    <div\r\n                      className=\"bg-white rounded-md text-black px-2 py-[2px] mr-2 cursor-pointer \"\r\n                      onClick={() => setIsEdditDiscussionClicked(false)}\r\n                    >\r\n                      Cancel\r\n                    </div>\r\n                    <div\r\n                      onClick={edditDiscussion}\r\n                      className=\"bg-[#EF4823] rounded-md px-2 py-[2px] text-white cursor-pointer \"\r\n                    >\r\n                      Submit\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  {!discussion?.ParentId && (\r\n                    <p className=\"text-white fontWeight-500 opacity-[.9] text-[16px] mb-4\">\r\n                      {/* {discussion?.Title} */}\r\n                      {edditedTitle}\r\n                    </p>\r\n                  )}\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    {/* {discussion?.Description} */}\r\n                    {discussion?.ParentId !== null && (\r\n                      <i className=\"text-white text-sm opacity-[1]\">\r\n                        {\"@\" + replyTo}{\" \"}\r\n                      </i>\r\n                    )}\r\n                    {edditedDescription}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"flex items-center mt-4 space-x-4\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"flex items-center text-sm text-gray-500 hover:underline dark:text-gray-400\"\r\n                onClick={() => {\r\n                  setShowReplies(!showReplies);\r\n\r\n                  setUserDiscussionData(userData);\r\n                  setShowUserAside(true);\r\n                  setCategoryOfDiscussion(discussion?.Category);\r\n                }}\r\n              >\r\n                <svg\r\n                  aria-hidden=\"true\"\r\n                  className=\"mr-1 w-4 h-4\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n                  ></path>\r\n                </svg>\r\n                Replies\r\n              </button>\r\n              {/* <!-- Up/down vote --> */}\r\n              {/*upvote*/}\r\n              <button\r\n                className={`p-2 border rounded-full ${\r\n                  upvoteClicked\r\n                    ? \"bg-white text-black\"\r\n                    : \"hover:bg-white hover:text-black\"\r\n                }`}\r\n                onClick={handleUpvoteClick}\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke-width=\"1.5\"\r\n                  stroke=\"currentColor\"\r\n                  class=\"w-4 h-4\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    d=\"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n              <div className=\"color-white fontSize-12 fontWeight-400 noOfLines-undefined\">\r\n                {voteDifference}\r\n              </div>\r\n              {/* downvote */}\r\n              <button\r\n                className={`p-2 border rounded-full ${\r\n                  downvoteClicked\r\n                    ? \"bg-white text-black\"\r\n                    : \"hover:bg-gray-100 hover:text-black\"\r\n                }`}\r\n                onClick={handleDownvoteClick}\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke-width=\"1.5\"\r\n                  stroke=\"currentColor\"\r\n                  class=\"w-4 h-4\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    d=\"M7.5 15h2.25m8.024-9.75c.011.05.028.1.052.148.591 1.2.924 2.55.924 3.977a8.96 8.96 0 01-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398C20.613 14.547 19.833 15 19 15h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 00.303-.54m.023-8.25H16.48a4.5 4.5 0 01-1.423-.23l-3.114-1.04a4.5 4.5 0 00-1.423-.23H6.504c-.618 0-1.217.247-1.605.729A11.95 11.95 0 002.25 12c0 .434.023.863.068 1.285C2.427 14.306 3.346 15 4.372 15h3.126c.618 0 .991.724.725 1.282A7.471 7.471 0 007.5 19.5a2.25 2.25 0 002.25 2.25.75.75 0 00.75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 002.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n              {/* <!--End Up/down vote --> */}\r\n            </div>\r\n          </div>\r\n        </article>\r\n      </div>\r\n      {showReplies && (\r\n        <div className={discussion?.ParentId === null && \"ml-8\"}>\r\n          {replies &&\r\n            replies.map((reply) => (\r\n              <Discussion\r\n                key={reply._id}\r\n                discussion={reply}\r\n                Discussions={Discussions}\r\n                setUserDiscussionData={setUserDiscussionData}\r\n                setShowUserAside={setShowUserAside}\r\n                setCategoryOfDiscussion={setCategoryOfDiscussion}\r\n                replyTo={discussion?.parentId !== null && userData?.username}\r\n              />\r\n            ))}\r\n          {/* {discussion?.ParentId === null && ( */}\r\n          <div class=\"flex flex-row align-items-center mb-10\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"comment\"\r\n              rows=\"6\"\r\n              className={\r\n                discussion?.ParentId === null\r\n                  ? \"px-0 w-[60%] mr-2 text-sm text-black rounded-[8px] max-h-[30px] px-3 py-3 border-0 focus:ring-0 focus:outline-none   bg-white \"\r\n                  : \"px-0 w-[40%] mr-2 text-sm text-black rounded-[8px] max-h-[26px] px-3 py-3 border-0 focus:ring-0 focus:outline-none   bg-white ml-[6%]\"\r\n              }\r\n              placeholder={\r\n                discussion?.ParentId === null\r\n                  ? \"Reply...\"\r\n                  : \"Reply to @\" + userData?.username\r\n              }\r\n              value={reply}\r\n              onChange={(e) => {\r\n                setReply(e.target.value);\r\n              }}\r\n            />\r\n            {discussion?.ParentId === null ? (\r\n              <button\r\n                onClick={handleAddReply}\r\n                class=\"inline-flex items-center mt-2 py-2 px-4 text-xs font-medium text-center text-white bg-[#EF4823] rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800\"\r\n              >\r\n                Post reply\r\n              </button>\r\n            ) : (\r\n              <button onClick={handleAddReply}>\r\n                <svg\r\n                  className=\"h-5 w-5 hover:h-6 hover:w-6 text-orange-500\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke-width=\"2\"\r\n                  stroke=\"currentColor\"\r\n                  fill=\"none\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                >\r\n                  {\" \"}\r\n                  <path stroke=\"none\" d=\"M0 0h24v24H0z\" />{\" \"}\r\n                  <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" />{\" \"}\r\n                  <path d=\"M21 3L14.5 21a.55 .55 0 0 1 -1 0L10 14L3 10.5a.55 .55 0 0 1 0 -1L21 3\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n          </div>\r\n          {/* )} */}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Discussion;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}